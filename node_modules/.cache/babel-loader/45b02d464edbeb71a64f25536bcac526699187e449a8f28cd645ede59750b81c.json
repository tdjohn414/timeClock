{"ast":null,"code":"var _jsxFileName = \"/Users/trevo/Projects/Full Scope Estimating/timeClock/timeClock_v1/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { AuthProvider, useAuth } from './context/AuthContext';\nimport { shiftsAPI, authAPI } from './services/api';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport './App.css';\n\n// Hardcoded admin email\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ADMIN_EMAIL = 'tyler@fullscopeestimating.com';\nfunction TimeClock() {\n  _s();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const [completedBlocks, setCompletedBlocks] = useState([]);\n  const [currentBlock, setCurrentBlock] = useState(null);\n  const [currentTasks, setCurrentTasks] = useState(['']); // Array of task inputs for current block\n  const [editingBlock, setEditingBlock] = useState(null); // For \"going back in time\"\n  const [editingTasks, setEditingTasks] = useState(['']); // Array of task inputs for editing block\n  const [editingOriginalIndex, setEditingOriginalIndex] = useState(null); // Track original position\n  const [swipingBlockId, setSwipingBlockId] = useState(null);\n  const [testBlocks, setTestBlocks] = useState(5);\n  const [testBreaks, setTestBreaks] = useState(2);\n  const [nowOffsetHours, setNowOffsetHours] = useState(0);\n  const [nowOffsetMins, setNowOffsetMins] = useState(0);\n  const [activeTab, setActiveTab] = useState('today'); // 'today', 'history', or 'admin'\n  const [adminShifts, setAdminShifts] = useState([]);\n  const [adminLoading, setAdminLoading] = useState(false);\n  const isAdmin = (user === null || user === void 0 ? void 0 : user.email) === ADMIN_EMAIL;\n  const [currentDate, setCurrentDate] = useState(() => {\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, '0');\n    const day = String(now.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  });\n  const [shifts, setShifts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [toast, setToast] = useState(null); // { shift, message }\n  const [expandedShifts, setExpandedShifts] = useState(new Set()); // Track expanded shift IDs\n  const [showPreviewModal, setShowPreviewModal] = useState(false);\n  const [previewShiftData, setPreviewShiftData] = useState(null);\n  const [showGapModal, setShowGapModal] = useState(false);\n  const [gapData, setGapData] = useState(null); // { startTime, endTime, pendingBlocks, gapIndex }\n  const [gapTasks, setGapTasks] = useState(['']);\n  const [blocksBeforeEdit, setBlocksBeforeEdit] = useState(null); // For restoring on gap cancel\n  const [showUserDropdown, setShowUserDropdown] = useState(false);\n  const dropdownRef = useRef(null);\n  const [showPasswordModal, setShowPasswordModal] = useState(false);\n  const [passwordData, setPasswordData] = useState({\n    current: '',\n    new: '',\n    confirm: ''\n  });\n  const [passwordError, setPasswordError] = useState('');\n  const [passwordSuccess, setPasswordSuccess] = useState(false);\n  const [changingPassword, setChangingPassword] = useState(false);\n  // Auto-save state\n  const [pendingShiftId, setPendingShiftId] = useState(null);\n  const [autoSaveStatus, setAutoSaveStatus] = useState('idle'); // 'idle', 'saving', 'saved', 'error'\n  const [showRecoveryModal, setShowRecoveryModal] = useState(false);\n  const [recoveryShift, setRecoveryShift] = useState(null);\n  useEffect(() => {\n    const loadShifts = async () => {\n      try {\n        const data = await shiftsAPI.getAll();\n        setShifts(data);\n      } catch (err) {\n        console.error('Failed to load shifts:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadShifts();\n  }, []);\n\n  // Check for pending shift on load (for recovery)\n  useEffect(() => {\n    const checkPendingShift = async () => {\n      try {\n        const pending = await shiftsAPI.getPending();\n        if (pending && pending.id) {\n          setRecoveryShift(pending);\n          setShowRecoveryModal(true);\n        }\n      } catch (err) {\n        console.error('Failed to check pending shift:', err);\n      }\n    };\n    checkPendingShift();\n  }, []);\n\n  // Load admin shifts when admin tab is selected\n  useEffect(() => {\n    if (activeTab === 'admin' && isAdmin && adminShifts.length === 0) {\n      const loadAdminShifts = async () => {\n        setAdminLoading(true);\n        try {\n          const data = await shiftsAPI.getAllAdmin();\n          setAdminShifts(data);\n        } catch (err) {\n          console.error('Failed to load admin shifts:', err);\n        } finally {\n          setAdminLoading(false);\n        }\n      };\n      loadAdminShifts();\n    }\n  }, [activeTab, isAdmin, adminShifts.length]);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setShowUserDropdown(false);\n      }\n    };\n    if (showUserDropdown) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showUserDropdown]);\n\n  // Get actual current time (no offset)\n  const getActualTime = () => {\n    const now = new Date();\n    const hours = String(now.getHours()).padStart(2, '0');\n    const minutes = String(now.getMinutes()).padStart(2, '0');\n    return `${hours}:${minutes}`;\n  };\n\n  // Get start time for \"Now\" - uses previous block's end time if available\n  const getStartTime = () => {\n    // If there are completed blocks, continue from last one's end time\n    if (completedBlocks.length > 0) {\n      const lastBlock = completedBlocks[completedBlocks.length - 1];\n      if (lastBlock.endTime) {\n        return lastBlock.endTime;\n      }\n    }\n    // Otherwise use actual current time\n    return getActualTime();\n  };\n\n  // Get end time = start time + offset (for \"Now\" on end time field)\n  const getEndTimeWithOffset = startTime => {\n    if (!startTime) return getActualTime();\n    const [h, m] = startTime.split(':').map(Number);\n    const baseTime = new Date(2000, 0, 1, h, m);\n\n    // Add offset to get end time\n    baseTime.setHours(baseTime.getHours() + nowOffsetHours);\n    baseTime.setMinutes(baseTime.getMinutes() + nowOffsetMins);\n    const hours = String(baseTime.getHours()).padStart(2, '0');\n    const minutes = String(baseTime.getMinutes()).padStart(2, '0');\n    return `${hours}:${minutes}`;\n  };\n\n  // Increment end time - if no end time, use start time as base\n  const incrementEndTime = (block, updateFn, minutes) => {\n    const baseTime = block.endTime || block.startTime;\n    if (!baseTime) return;\n    const newTime = addMinutesToTime(baseTime, minutes);\n    updateFn('endTime', newTime);\n  };\n  const addMinutesToTime = (time, minutesToAdd) => {\n    const [hours, minutes] = time.split(':').map(Number);\n    const date = new Date(2000, 0, 1, hours, minutes);\n    date.setMinutes(date.getMinutes() + minutesToAdd);\n    return `${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;\n  };\n  const calculateBlockHours = (startTime, endTime) => {\n    if (!startTime || !endTime) return null;\n\n    // Normalize time strings (handle HH:MM:SS and HH:MM formats)\n    const normalizeTime = t => {\n      if (typeof t !== 'string') return t;\n      // Take only HH:MM part\n      return t.split(':').slice(0, 2).join(':');\n    };\n    const start = normalizeTime(startTime);\n    const end = normalizeTime(endTime);\n    const startDate = new Date(`2000-01-01T${start}:00`);\n    let endDate = new Date(`2000-01-01T${end}:00`);\n\n    // Handle midnight crossing (e.g., 22:00 to 00:00)\n    if (endDate <= startDate) {\n      endDate = new Date(`2000-01-02T${end}:00`);\n    }\n    const diffMs = endDate - startDate;\n    const diffHours = diffMs / (1000 * 60 * 60);\n    return diffHours > 0 ? diffHours.toFixed(2) : '0.00';\n  };\n  const handleClockIn = async () => {\n    try {\n      const clockInTime = getStartTime();\n      // Create pending shift on server\n      const shift = await shiftsAPI.clockIn(currentDate, clockInTime);\n      setPendingShiftId(shift.id);\n      const newBlock = {\n        id: Date.now(),\n        startTime: clockInTime,\n        endTime: '',\n        tasks: ''\n      };\n      setCurrentBlock(newBlock);\n      setCurrentTasks(['']);\n    } catch (err) {\n      console.error('Failed to clock in:', err);\n      alert('Failed to start shift: ' + err.message);\n    }\n  };\n\n  // Join tasks array into a string, filtering empty entries\n  const joinTasks = tasksArray => {\n    return tasksArray.filter(t => t.trim()).join(' • ');\n  };\n  const handleAdvanceBlock = async () => {\n    if (!currentBlock || !currentBlock.endTime) return;\n\n    // Join tasks before completing\n    const completedBlock = {\n      ...currentBlock,\n      tasks: joinTasks(currentTasks)\n    };\n\n    // Trigger swipe animation\n    setSwipingBlockId(currentBlock.id);\n    setTimeout(async () => {\n      // Save block to server if we have a pending shift\n      if (pendingShiftId) {\n        try {\n          setAutoSaveStatus('saving');\n          const savedBlock = await shiftsAPI.addBlock(pendingShiftId, {\n            startTime: completedBlock.startTime,\n            endTime: completedBlock.endTime,\n            tasks: completedBlock.tasks,\n            isBreak: completedBlock.isBreak || false\n          });\n          // Update local block with server ID\n          completedBlock.serverId = savedBlock.id;\n          setAutoSaveStatus('saved');\n          setTimeout(() => setAutoSaveStatus('idle'), 2000);\n        } catch (err) {\n          console.error('Failed to save block:', err);\n          setAutoSaveStatus('error');\n          setTimeout(() => setAutoSaveStatus('idle'), 3000);\n        }\n      }\n\n      // Move current block to completed\n      setCompletedBlocks([...completedBlocks, completedBlock]);\n\n      // Create new current block with previous end time as start\n      const newBlock = {\n        id: Date.now(),\n        startTime: currentBlock.endTime,\n        endTime: '',\n        tasks: ''\n      };\n      setCurrentBlock(newBlock);\n      setCurrentTasks(['']);\n      setSwipingBlockId(null);\n      setEditingBlock(null);\n    }, 400);\n  };\n  const handleBreak = async () => {\n    if (!currentBlock) return;\n\n    // Break starts where current block ends (or use current block's end time if set)\n    // Do NOT use getActualTime() here - breaks should continue from last block\n    let breakStartTime;\n    if (currentBlock.endTime) {\n      breakStartTime = currentBlock.endTime;\n    } else if (completedBlocks.length > 0) {\n      // Use end time of last completed block\n      breakStartTime = completedBlocks[completedBlocks.length - 1].endTime;\n    } else {\n      // Fallback: use current block's start time\n      breakStartTime = currentBlock.startTime;\n    }\n    const breakEndTime = addMinutesToTime(breakStartTime, 15);\n\n    // Complete current block first if it has content\n    const joinedTasks = joinTasks(currentTasks);\n    let updatedBlocks = [...completedBlocks];\n    if (currentBlock.startTime && joinedTasks) {\n      const workBlock = {\n        ...currentBlock,\n        tasks: joinedTasks,\n        endTime: breakStartTime\n      };\n      // Save work block to server if we have a pending shift\n      if (pendingShiftId) {\n        try {\n          const savedBlock = await shiftsAPI.addBlock(pendingShiftId, {\n            startTime: workBlock.startTime,\n            endTime: workBlock.endTime,\n            tasks: workBlock.tasks,\n            isBreak: false\n          });\n          workBlock.serverId = savedBlock.id;\n        } catch (err) {\n          console.error('Failed to save work block:', err);\n        }\n      }\n      updatedBlocks = [...completedBlocks, workBlock];\n      setCompletedBlocks(updatedBlocks);\n    }\n\n    // Create break block and immediately complete it\n    const breakBlock = {\n      id: Date.now(),\n      startTime: breakStartTime,\n      endTime: breakEndTime,\n      tasks: '15 min Break',\n      isBreak: true\n    };\n    setSwipingBlockId(breakBlock.id);\n    setTimeout(async () => {\n      // Save break block to server\n      if (pendingShiftId) {\n        try {\n          setAutoSaveStatus('saving');\n          const savedBreak = await shiftsAPI.addBlock(pendingShiftId, {\n            startTime: breakBlock.startTime,\n            endTime: breakBlock.endTime,\n            tasks: breakBlock.tasks,\n            isBreak: true\n          });\n          breakBlock.serverId = savedBreak.id;\n          setAutoSaveStatus('saved');\n          setTimeout(() => setAutoSaveStatus('idle'), 2000);\n        } catch (err) {\n          console.error('Failed to save break:', err);\n          setAutoSaveStatus('error');\n          setTimeout(() => setAutoSaveStatus('idle'), 3000);\n        }\n      }\n      setCompletedBlocks(prev => [...prev, breakBlock]);\n\n      // Create new current block starting after break\n      const newBlock = {\n        id: Date.now() + 1,\n        startTime: breakEndTime,\n        endTime: '',\n        tasks: ''\n      };\n      setCurrentBlock(newBlock);\n      setCurrentTasks(['']);\n      setSwipingBlockId(null);\n    }, 400);\n  };\n  const updateCurrentBlock = (field, value) => {\n    setCurrentBlock({\n      ...currentBlock,\n      [field]: value\n    });\n  };\n  const updateEditingBlock = (field, value) => {\n    setEditingBlock({\n      ...editingBlock,\n      [field]: value\n    });\n  };\n  const handleEditBlock = block => {\n    // Track original position before removing\n    const originalIndex = completedBlocks.findIndex(b => b.id === block.id);\n    setEditingOriginalIndex(originalIndex);\n\n    // Save current block state and edit the selected block\n    setEditingBlock(block);\n    // Split existing tasks string into array for editing (skip for breaks)\n    const tasksArray = block.isBreak ? [''] : block.tasks ? block.tasks.split(' • ') : [''];\n    setEditingTasks(tasksArray.length > 0 ? tasksArray : ['']);\n    // Remove from completed blocks\n    setCompletedBlocks(completedBlocks.filter(b => b.id !== block.id));\n  };\n\n  // Helper to compare times accounting for overnight shifts\n  const timeToMinutes = time => {\n    if (!time) return 0;\n    const [h, m] = time.split(':').map(Number);\n    return h * 60 + m;\n  };\n\n  // Process blocks after edit - handle overlaps and gaps\n  const processBlocksAfterEdit = (blocks, savedBlock, insertIndex) => {\n    let updatedBlocks = [...blocks];\n    updatedBlocks.splice(insertIndex, 0, savedBlock);\n    const editedEndMinutes = timeToMinutes(savedBlock.endTime);\n\n    // Check if there's a next block\n    if (insertIndex + 1 < updatedBlocks.length) {\n      const nextBlock = updatedBlocks[insertIndex + 1];\n      const nextStartMinutes = timeToMinutes(nextBlock.startTime);\n\n      // Handle overlaps\n      if (editedEndMinutes > nextStartMinutes) {\n        // Complete overlap - remove blocks\n        let i = insertIndex + 1;\n        while (i < updatedBlocks.length) {\n          const block = updatedBlocks[i];\n          const blockStartMinutes = timeToMinutes(block.startTime);\n          const blockEndMinutes = timeToMinutes(block.endTime);\n          if (editedEndMinutes >= blockEndMinutes) {\n            updatedBlocks.splice(i, 1);\n          } else if (editedEndMinutes > blockStartMinutes) {\n            updatedBlocks[i] = {\n              ...block,\n              startTime: savedBlock.endTime\n            };\n            i++;\n          } else {\n            break;\n          }\n        }\n        return {\n          blocks: updatedBlocks,\n          gap: null\n        };\n      }\n\n      // Handle gap - edited end time is BEFORE next block's start\n      if (editedEndMinutes < nextStartMinutes) {\n        return {\n          blocks: updatedBlocks,\n          gap: {\n            startTime: savedBlock.endTime,\n            endTime: nextBlock.startTime,\n            gapIndex: insertIndex + 1\n          }\n        };\n      }\n    }\n    return {\n      blocks: updatedBlocks,\n      gap: null\n    };\n  };\n  const handleSaveEdit = () => {\n    if (!editingBlock) return;\n\n    // Save original blocks in case we need to restore on gap cancel\n    // Include the editing block at its original position\n    const originalBlocks = [...completedBlocks];\n    originalBlocks.splice(editingOriginalIndex, 0, editingBlock);\n    setBlocksBeforeEdit(originalBlocks);\n\n    // Join tasks before saving (keep original for breaks)\n    const savedBlock = {\n      ...editingBlock,\n      tasks: editingBlock.isBreak ? editingBlock.tasks : joinTasks(editingTasks)\n    };\n\n    // Swipe the edited block back to completed\n    setSwipingBlockId(editingBlock.id);\n    setTimeout(() => {\n      const insertIndex = Math.min(editingOriginalIndex, completedBlocks.length);\n      const result = processBlocksAfterEdit(completedBlocks, savedBlock, insertIndex);\n      if (result.gap) {\n        // There's a gap - show modal to fill it\n        setGapData({\n          ...result.gap,\n          pendingBlocks: result.blocks\n        });\n        setGapTasks(['']);\n        setShowGapModal(true);\n      } else {\n        setCompletedBlocks(result.blocks);\n        setBlocksBeforeEdit(null);\n\n        // If the edited block is the last block and there's a current block,\n        // update the current block's start time to match the edited block's end time\n        const lastBlock = result.blocks[result.blocks.length - 1];\n        if (currentBlock && lastBlock && lastBlock.id === savedBlock.id && savedBlock.endTime) {\n          setCurrentBlock(prev => ({\n            ...prev,\n            startTime: savedBlock.endTime\n          }));\n        }\n      }\n      setEditingBlock(null);\n      setEditingTasks(['']);\n      setEditingOriginalIndex(null);\n      setSwipingBlockId(null);\n    }, 400);\n  };\n\n  // Handle filling a gap\n  const handleFillGap = () => {\n    if (!gapData) return;\n    const gapBlock = {\n      id: Date.now(),\n      startTime: gapData.startTime,\n      endTime: gapData.endTime,\n      tasks: joinTasks(gapTasks),\n      isBreak: false\n    };\n\n    // Insert the gap block\n    let updatedBlocks = [...gapData.pendingBlocks];\n    updatedBlocks.splice(gapData.gapIndex, 0, gapBlock);\n\n    // Check if this creates another gap or overlap\n    const gapEndMinutes = timeToMinutes(gapBlock.endTime);\n    const nextIndex = gapData.gapIndex + 1;\n    if (nextIndex < updatedBlocks.length) {\n      const nextBlock = updatedBlocks[nextIndex];\n      const nextStartMinutes = timeToMinutes(nextBlock.startTime);\n\n      // Still a gap?\n      if (gapEndMinutes < nextStartMinutes) {\n        setGapData({\n          startTime: gapBlock.endTime,\n          endTime: nextBlock.startTime,\n          pendingBlocks: updatedBlocks,\n          gapIndex: nextIndex\n        });\n        setGapTasks(['']);\n        return; // Keep modal open\n      }\n\n      // Overlap? Adjust next block\n      if (gapEndMinutes > nextStartMinutes) {\n        updatedBlocks[nextIndex] = {\n          ...nextBlock,\n          startTime: gapBlock.endTime\n        };\n      }\n    }\n    setCompletedBlocks(updatedBlocks);\n    setShowGapModal(false);\n    setGapData(null);\n    setGapTasks(['']);\n    setBlocksBeforeEdit(null);\n  };\n  const handleCancelGap = () => {\n    // Cancel gap fill - restore blocks to state before the edit\n    if (blocksBeforeEdit) {\n      setCompletedBlocks(blocksBeforeEdit);\n    }\n    setShowGapModal(false);\n    setGapData(null);\n    setGapTasks(['']);\n    setBlocksBeforeEdit(null);\n  };\n  const handleCancelEdit = () => {\n    // Restore the editing block to completed at original position\n    if (editingBlock) {\n      const updatedBlocks = [...completedBlocks];\n      const insertIndex = Math.min(editingOriginalIndex !== null && editingOriginalIndex !== void 0 ? editingOriginalIndex : updatedBlocks.length, updatedBlocks.length);\n      updatedBlocks.splice(insertIndex, 0, editingBlock);\n      setCompletedBlocks(updatedBlocks);\n    }\n    setEditingBlock(null);\n    setEditingTasks(['']);\n    setEditingOriginalIndex(null);\n  };\n  const removeCompletedBlock = id => {\n    setCompletedBlocks(completedBlocks.filter(b => b.id !== id));\n  };\n  const handleChangePassword = async () => {\n    setPasswordError('');\n    if (!passwordData.current || !passwordData.new || !passwordData.confirm) {\n      setPasswordError('All fields are required');\n      return;\n    }\n    if (passwordData.new !== passwordData.confirm) {\n      setPasswordError('New passwords do not match');\n      return;\n    }\n    if (passwordData.new.length < 6) {\n      setPasswordError('New password must be at least 6 characters');\n      return;\n    }\n    setChangingPassword(true);\n    try {\n      await authAPI.changePassword(passwordData.current, passwordData.new);\n      setPasswordSuccess(true);\n      setPasswordData({\n        current: '',\n        new: '',\n        confirm: ''\n      });\n      setTimeout(() => {\n        setShowPasswordModal(false);\n        setPasswordSuccess(false);\n      }, 2000);\n    } catch (err) {\n      setPasswordError(err.message || 'Failed to change password');\n    } finally {\n      setChangingPassword(false);\n    }\n  };\n  const closePasswordModal = () => {\n    setShowPasswordModal(false);\n    setPasswordData({\n      current: '',\n      new: '',\n      confirm: ''\n    });\n    setPasswordError('');\n    setPasswordSuccess(false);\n  };\n  const clientTasks = ['Fixed responsive layout issues on mobile', 'Implemented form validation for user inputs', 'Added loading spinners and skeleton screens', 'Debugged API integration issues', 'Optimized React component rendering', 'Styled buttons and input components', 'Created reusable modal component', 'Fixed CSS grid alignment on dashboard', 'Implemented state management for cart', 'Added error handling for fetch requests', 'Built date picker component', 'Fixed cross-browser compatibility issues', 'Implemented infinite scroll pagination', 'Added toast notifications system', 'Refactored authentication flow'];\n  const generateTestShift = () => {\n    const blocks = [];\n    let currentHour = 8;\n    let currentMinute = 0;\n    let breakCount = 0;\n    const totalBlocks = testBlocks + testBreaks;\n    const breakInterval = Math.floor(totalBlocks / (testBreaks + 1));\n    for (let i = 0; i < totalBlocks; i++) {\n      const startTime = `${String(currentHour).padStart(2, '0')}:${String(currentMinute).padStart(2, '0')}`;\n      const isBreak = breakCount < testBreaks && (i + 1) % breakInterval === 0;\n      const duration = isBreak ? 15 : 45 + Math.floor(Math.random() * 45);\n      currentMinute += duration;\n      while (currentMinute >= 60) {\n        currentHour++;\n        currentMinute -= 60;\n      }\n      const endTime = `${String(currentHour).padStart(2, '0')}:${String(currentMinute).padStart(2, '0')}`;\n      if (isBreak) {\n        blocks.push({\n          id: Date.now() + i,\n          startTime,\n          endTime,\n          tasks: '15 min Break',\n          isBreak: true\n        });\n        breakCount++;\n      } else {\n        blocks.push({\n          id: Date.now() + i,\n          startTime,\n          endTime,\n          tasks: clientTasks[Math.floor(Math.random() * clientTasks.length)]\n        });\n      }\n    }\n\n    // All but last go to completed, last becomes current\n    if (blocks.length > 0) {\n      setCompletedBlocks(blocks.slice(0, -1));\n      const lastBlock = blocks[blocks.length - 1];\n      setCurrentBlock({\n        ...lastBlock,\n        endTime: '' // Make it editable\n      });\n      // Set the tasks array from the last block\n      setCurrentTasks(lastBlock.tasks ? [lastBlock.tasks] : ['']);\n    }\n    setEditingBlock(null);\n    setEditingTasks(['']);\n  };\n  const clearAll = () => {\n    setCompletedBlocks([]);\n    setCurrentBlock(null);\n    setCurrentTasks(['']);\n    setEditingBlock(null);\n    setEditingTasks(['']);\n  };\n  const calculateTotalHours = () => {\n    let total = 0;\n    [...completedBlocks, currentBlock].filter(Boolean).forEach(block => {\n      const hrs = calculateBlockHours(block.startTime, block.endTime);\n      if (hrs) total += parseFloat(hrs);\n    });\n    return total.toFixed(2);\n  };\n\n  // Preview shift before saving - shows confirmation modal\n  const previewShift = () => {\n    const allBlocks = [...completedBlocks];\n    // Include current block only if fully filled out (start time, end time, AND tasks)\n    // This ignores placeholder blocks that only have a start time from \"Next Block\"\n    const currentJoinedTasks = joinTasks(currentTasks);\n    if (currentBlock && currentBlock.startTime && currentBlock.endTime && currentJoinedTasks) {\n      allBlocks.push({\n        ...currentBlock,\n        tasks: currentJoinedTasks\n      });\n    }\n    const validBlocks = allBlocks.filter(block => block.startTime && block.endTime && block.tasks);\n    if (validBlocks.length === 0) {\n      alert('Please add at least one complete time block (start time, end time, and tasks)');\n      return;\n    }\n\n    // Don't sort - preserve the order user entered them (handles overnight shifts correctly)\n    const clockInTime = validBlocks[0].startTime;\n    const clockOutTime = validBlocks[validBlocks.length - 1].endTime || validBlocks[validBlocks.length - 1].startTime;\n    const totalHours = calculateTotalHours();\n    const shiftData = {\n      date: currentDate,\n      clockInTime,\n      clockOutTime,\n      totalHours,\n      timeBlocks: validBlocks\n    };\n    setPreviewShiftData(shiftData);\n    setShowPreviewModal(true);\n  };\n\n  // Actually save the shift after confirmation\n  const confirmSave = async () => {\n    if (!previewShiftData) return;\n    setSaving(true);\n    try {\n      const newShift = await shiftsAPI.create(previewShiftData);\n      setShifts([newShift, ...shifts]);\n\n      // Show toast with preview\n      setToast({\n        message: 'Shift saved successfully!',\n        shift: previewShiftData\n      });\n      setTimeout(() => setToast(null), 5000);\n      setShowPreviewModal(false);\n      setPreviewShiftData(null);\n      clearAll();\n    } catch (err) {\n      alert('Failed to save shift: ' + err.message);\n    } finally {\n      setSaving(false);\n    }\n  };\n  const cancelPreview = () => {\n    setShowPreviewModal(false);\n    setPreviewShiftData(null);\n  };\n  const formatTime = time => {\n    if (!time) return '--:--';\n    let timeStr = time;\n\n    // Handle Date objects\n    if (time instanceof Date) {\n      const h = time.getHours();\n      const m = time.getMinutes();\n      timeStr = `${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}`;\n    }\n\n    // Handle object with hours/minutes (some DB drivers return this)\n    if (typeof time === 'object' && time !== null && !Array.isArray(time)) {\n      if ('hours' in time || 'minutes' in time) {\n        const h = time.hours || 0;\n        const m = time.minutes || 0;\n        timeStr = `${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}`;\n      }\n    }\n\n    // Ensure it's a string\n    if (typeof timeStr !== 'string') {\n      console.log('Unexpected time format:', time, typeof time);\n      return '--:--';\n    }\n\n    // Handle both \"HH:MM\" and \"HH:MM:SS\" formats\n    const parts = timeStr.split(':');\n    if (parts.length < 2) return '--:--';\n    const hours = parts[0];\n    const minutes = parts[1];\n    const hour = parseInt(hours);\n    if (isNaN(hour)) return '--:--';\n    const ampm = hour >= 12 ? 'PM' : 'AM';\n    const formattedHour = hour % 12 || 12;\n    return `${formattedHour}:${minutes} ${ampm}`;\n  };\n  const formatDate = dateStr => {\n    if (!dateStr) return 'Invalid Date';\n    try {\n      let date;\n      // Handle Date objects, ISO strings, and YYYY-MM-DD strings\n      if (dateStr instanceof Date) {\n        date = dateStr;\n      } else if (typeof dateStr === 'string') {\n        // If it's just YYYY-MM-DD, add time to avoid timezone issues\n        if (/^\\d{4}-\\d{2}-\\d{2}$/.test(dateStr)) {\n          date = new Date(dateStr + 'T12:00:00');\n        } else {\n          date = new Date(dateStr);\n        }\n      } else {\n        return 'Invalid Date';\n      }\n      if (isNaN(date.getTime())) return 'Invalid Date';\n      return date.toLocaleDateString('en-US', {\n        weekday: 'short',\n        month: 'short',\n        day: 'numeric'\n      });\n    } catch {\n      return 'Invalid Date';\n    }\n  };\n  const blockCount = completedBlocks.length + (currentBlock ? 1 : 0);\n  const toggleShiftExpanded = shiftId => {\n    setExpandedShifts(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(shiftId)) {\n        newSet.delete(shiftId);\n      } else {\n        newSet.add(shiftId);\n      }\n      return newSet;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [toast && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toast\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"toast-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"toast-message\",\n          children: toast.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 850,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"toast-close\",\n          onClick: () => setToast(null),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 851,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 849,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"toast-preview\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toast-date\",\n          children: formatDate(toast.shift.date)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 854,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toast-times\",\n          children: [formatTime(toast.shift.clockInTime), \" - \", formatTime(toast.shift.clockOutTime)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 855,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toast-hours\",\n          children: [toast.shift.totalHours, \" hours\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 858,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toast-blocks\",\n          children: [toast.shift.timeBlocks.filter(b => !b.isBreak).slice(0, 3).map((b, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"toast-block-item\",\n            children: b.tasks\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 861,\n            columnNumber: 17\n          }, this)), toast.shift.timeBlocks.filter(b => !b.isBreak).length > 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"toast-more\",\n            children: [\"+\", toast.shift.timeBlocks.filter(b => !b.isBreak).length - 3, \" more\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 864,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 859,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 853,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 848,\n      columnNumber: 9\n    }, this), showPreviewModal && previewShiftData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: cancelPreview,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preview-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Review Your Shift\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 876,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-close\",\n            onClick: cancelPreview,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 877,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 875,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"preview-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"preview-date\",\n              children: formatDate(previewShiftData.date)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"preview-times\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"preview-label\",\n                children: \"Clock In/Out:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 883,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [formatTime(previewShiftData.clockInTime), \" - \", formatTime(previewShiftData.clockOutTime)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 884,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"preview-total\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"preview-label\",\n                children: \"Total Hours:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 887,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [previewShiftData.totalHours, \" hrs\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 888,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 886,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 880,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"preview-blocks\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Time Blocks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 17\n            }, this), previewShiftData.timeBlocks.map((block, index) => {\n              // Count only work blocks for numbering\n              const workBlockNumber = previewShiftData.timeBlocks.slice(0, index + 1).filter(b => !b.isBreak).length;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `preview-block ${block.isBreak ? 'break-block' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"preview-block-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"preview-block-num\",\n                    children: block.isBreak ? 'Break' : `Block ${workBlockNumber}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 901,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"preview-block-time\",\n                    children: [formatTime(block.startTime), \" - \", formatTime(block.endTime)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 904,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"preview-block-hours\",\n                    children: [calculateBlockHours(block.startTime, block.endTime), \"h\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 907,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 900,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"preview-block-tasks\",\n                  children: block.tasks.split(' • ').map((task, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"preview-task-item\",\n                    children: task\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 913,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 911,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 899,\n                columnNumber: 19\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 891,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-cancel-modal\",\n            onClick: cancelPreview,\n            children: \"Go Back & Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 922,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-confirm-modal\",\n            onClick: confirmSave,\n            disabled: saving,\n            children: saving ? 'Saving...' : 'Confirm & Save'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 925,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 921,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 874,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 873,\n      columnNumber: 9\n    }, this), showGapModal && gapData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preview-modal gap-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Fill Time Gap\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 938,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 937,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gap-warning\",\n            children: \"Your edit created a gap in the timeline. Please fill in what you worked on during this time.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 941,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gap-times\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"time-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Gap Start\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 946,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"time-input-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"time\",\n                  value: gapData.startTime,\n                  onChange: e => setGapData({\n                    ...gapData,\n                    startTime: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 948,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 947,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 945,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"time-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Gap End\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 956,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"time-input-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"time\",\n                  value: gapData.endTime,\n                  onChange: e => setGapData({\n                    ...gapData,\n                    endTime: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 958,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 957,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 955,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 944,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gap-duration\",\n            children: [\"Duration: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [calculateBlockHours(gapData.startTime, gapData.endTime), \" hrs\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 967,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 966,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"task-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"What did you work on?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 970,\n              columnNumber: 17\n            }, this), gapTasks.map((task, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"task-input-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: task,\n                onChange: e => {\n                  const newTasks = [...gapTasks];\n                  newTasks[index] = e.target.value;\n                  setGapTasks(newTasks);\n                },\n                placeholder: index === 0 ? \"Enter task...\" : \"Another task...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 973,\n                columnNumber: 21\n              }, this), gapTasks.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-remove-task\",\n                onClick: () => setGapTasks(gapTasks.filter((_, i) => i !== index)),\n                children: \"\\u2212\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 984,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 972,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-add-task\",\n              onClick: () => setGapTasks([...gapTasks, '']),\n              children: \"+ Add Task\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 994,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 969,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 940,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-cancel-modal\",\n            onClick: handleCancelGap,\n            children: \"Cancel Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1004,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-confirm-modal\",\n            onClick: handleFillGap,\n            disabled: !gapTasks.some(t => t.trim()),\n            children: \"Fill Gap\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1007,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1003,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 936,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 935,\n      columnNumber: 9\n    }, this), showPasswordModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: closePasswordModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preview-modal password-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Change Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1024,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-close\",\n            onClick: closePasswordModal,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1025,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1023,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: passwordSuccess ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"password-success\",\n            children: \"Password changed successfully!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1029,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [passwordError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"password-error\",\n              children: passwordError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1035,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"password-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Current Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1038,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                value: passwordData.current,\n                onChange: e => setPasswordData({\n                  ...passwordData,\n                  current: e.target.value\n                }),\n                placeholder: \"Enter current password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1039,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1037,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"password-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"New Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1047,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                value: passwordData.new,\n                onChange: e => setPasswordData({\n                  ...passwordData,\n                  new: e.target.value\n                }),\n                placeholder: \"Enter new password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1048,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1046,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"password-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Confirm New Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1056,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                value: passwordData.confirm,\n                onChange: e => setPasswordData({\n                  ...passwordData,\n                  confirm: e.target.value\n                }),\n                placeholder: \"Confirm new password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1057,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1055,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1027,\n          columnNumber: 13\n        }, this), !passwordSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-cancel-modal\",\n            onClick: closePasswordModal,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1069,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-confirm-modal\",\n            onClick: handleChangePassword,\n            disabled: changingPassword,\n            children: changingPassword ? 'Changing...' : 'Change Password'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1072,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1068,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1022,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1021,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-top\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Time Clock\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1087,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"test-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"test-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                value: testBlocks,\n                onChange: e => setTestBlocks(Number(e.target.value)),\n                children: [1, 2, 3, 4, 5, 6, 7, 8].map(n => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: n,\n                  children: [n, \" blocks\"]\n                }, n, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1093,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1091,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: testBreaks,\n                onChange: e => setTestBreaks(Number(e.target.value)),\n                children: [0, 1, 2, 3, 4].map(n => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: n,\n                  children: [n, \" breaks\"]\n                }, n, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1098,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1096,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-test\",\n                onClick: generateTestShift,\n                children: \"Generate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1101,\n                columnNumber: 17\n              }, this), (completedBlocks.length > 0 || currentBlock) && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-clear\",\n                onClick: clearAll,\n                children: \"Clear\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1105,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1090,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"test-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"now-offset-label\",\n                children: \"Block +\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1111,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: nowOffsetHours,\n                onChange: e => setNowOffsetHours(Number(e.target.value)),\n                children: [0, 1, 2, 3, 4, 5].map(n => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: n,\n                  children: [n, \"h\"]\n                }, n, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1114,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1112,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: nowOffsetMins,\n                onChange: e => setNowOffsetMins(Number(e.target.value)),\n                children: [0, 15, 30, 45].map(n => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: n,\n                  children: [n, \"m\"]\n                }, n, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1119,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1117,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-random-task\",\n                onClick: () => {\n                  if (currentBlock) {\n                    const randomTask = clientTasks[Math.floor(Math.random() * clientTasks.length)];\n                    // Add to first empty slot or append\n                    const emptyIndex = currentTasks.findIndex(t => !t.trim());\n                    if (emptyIndex >= 0) {\n                      const newTasks = [...currentTasks];\n                      newTasks[emptyIndex] = randomTask;\n                      setCurrentTasks(newTasks);\n                    } else {\n                      setCurrentTasks([...currentTasks, randomTask]);\n                    }\n                  }\n                },\n                disabled: !currentBlock,\n                children: \"Random Task\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1122,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1110,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1089,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-info\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-dropdown-container\",\n              ref: dropdownRef,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"user-name-btn\",\n                onClick: () => setShowUserDropdown(!showUserDropdown),\n                children: [user.name, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"dropdown-arrow\",\n                  children: showUserDropdown ? '▲' : '▼'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1152,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1147,\n                columnNumber: 17\n              }, this), showUserDropdown && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-dropdown\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"dropdown-item\",\n                  onClick: () => {\n                    setShowPasswordModal(true);\n                    setShowUserDropdown(false);\n                  },\n                  children: \"Reset Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1156,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"dropdown-item logout-item\",\n                  onClick: logout,\n                  children: \"Logout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1165,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1155,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1146,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1088,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1086,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1085,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-nav\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-btn ${activeTab === 'today' ? 'active' : ''}`,\n        onClick: () => setActiveTab('today'),\n        children: \"Today's Shift\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-btn ${activeTab === 'history' ? 'active' : ''}`,\n        onClick: () => setActiveTab('history'),\n        children: \"Shift History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1184,\n        columnNumber: 9\n      }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-btn admin-tab ${activeTab === 'admin' ? 'active' : ''}`,\n        onClick: () => setActiveTab('admin'),\n        children: \"Admin View\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1191,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1177,\n      columnNumber: 7\n    }, this), activeTab === 'today' ? /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"input-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Current Block\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1205,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"date-picker\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: currentDate,\n              onChange: e => setCurrentDate(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1207,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1206,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1204,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-blocks-area\",\n          children: [editingBlock && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `time-block editing-block ${editingBlock.isBreak ? 'break-block' : ''} ${swipingBlockId === editingBlock.id ? 'swiping-out' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"block-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"block-number\",\n                children: \"Editing Block\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1220,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"edit-controls\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn-cancel-edit\",\n                  onClick: handleCancelEdit,\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1222,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn-save-edit\",\n                  onClick: handleSaveEdit,\n                  children: \"Save\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1225,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1221,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1219,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"block-times\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"time-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Start\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1232,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"time-input-group\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"time\",\n                    value: editingBlock.startTime,\n                    onChange: e => updateEditingBlock('startTime', e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1234,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1233,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1231,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"time-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"End\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1242,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"time-input-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"time\",\n                    value: editingBlock.endTime,\n                    onChange: e => updateEditingBlock('endTime', e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1244,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn-now\",\n                    onClick: () => updateEditingBlock('endTime', getEndTimeWithOffset(editingBlock.startTime)),\n                    children: [\"Now\", nowOffsetHours > 0 || nowOffsetMins > 0 ? '+' : '']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1249,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1243,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"time-increment-btns\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn-increment\",\n                    onClick: () => incrementEndTime(editingBlock, updateEditingBlock, 15),\n                    children: \"+15m\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1258,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn-increment\",\n                    onClick: () => incrementEndTime(editingBlock, updateEditingBlock, 60),\n                    children: \"+1hr\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1265,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1257,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1241,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1230,\n              columnNumber: 19\n            }, this), !editingBlock.isBreak && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"task-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Tasks\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1278,\n                columnNumber: 23\n              }, this), editingTasks.map((task, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"task-input-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: task,\n                  onChange: e => {\n                    const newTasks = [...editingTasks];\n                    newTasks[index] = e.target.value;\n                    setEditingTasks(newTasks);\n                  },\n                  placeholder: index === 0 ? \"What did you work on?\" : \"Another task...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1281,\n                  columnNumber: 27\n                }, this), editingTasks.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn-remove-task\",\n                  onClick: () => {\n                    const newTasks = editingTasks.filter((_, i) => i !== index);\n                    setEditingTasks(newTasks);\n                  },\n                  children: \"\\u2212\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1292,\n                  columnNumber: 29\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1280,\n                columnNumber: 25\n              }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-add-task\",\n                onClick: () => setEditingTasks([...editingTasks, '']),\n                children: \"+ Add Task\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1305,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1277,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1218,\n            columnNumber: 17\n          }, this), currentBlock ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `time-block current-block ${currentBlock.isBreak ? 'break-block' : ''} ${swipingBlockId === currentBlock.id ? 'swiping-out' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"block-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"block-number\",\n                children: [\"Block \", blockCount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1321,\n                columnNumber: 21\n              }, this), calculateBlockHours(currentBlock.startTime, currentBlock.endTime) && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"block-hours\",\n                children: [calculateBlockHours(currentBlock.startTime, currentBlock.endTime), \" hrs\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1323,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1320,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"block-times\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"time-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"Start\", completedBlocks.length > 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1330,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"time-input-group\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"time\",\n                    value: currentBlock.startTime,\n                    onChange: e => !completedBlocks.length && updateCurrentBlock('startTime', e.target.value),\n                    readOnly: completedBlocks.length > 0,\n                    className: completedBlocks.length > 0 ? 'locked-input' : ''\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1332,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1331,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1329,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"time-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"End\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1342,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"time-input-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"time\",\n                    value: currentBlock.endTime,\n                    onChange: e => updateCurrentBlock('endTime', e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1344,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn-now\",\n                    onClick: () => updateCurrentBlock('endTime', getEndTimeWithOffset(currentBlock.startTime)),\n                    children: [\"Now\", nowOffsetHours > 0 || nowOffsetMins > 0 ? '+' : '']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1349,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1343,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"time-increment-btns\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn-increment\",\n                    onClick: () => incrementEndTime(currentBlock, updateCurrentBlock, 15),\n                    children: \"+15m\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1358,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn-increment\",\n                    onClick: () => incrementEndTime(currentBlock, updateCurrentBlock, 60),\n                    children: \"+1hr\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1365,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1357,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1341,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1328,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"task-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Tasks\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1376,\n                columnNumber: 21\n              }, this), currentTasks.map((task, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"task-input-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: task,\n                  onChange: e => {\n                    const newTasks = [...currentTasks];\n                    newTasks[index] = e.target.value;\n                    setCurrentTasks(newTasks);\n                  },\n                  placeholder: index === 0 ? \"What did you work on?\" : \"Another task...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1379,\n                  columnNumber: 25\n                }, this), currentTasks.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn-remove-task\",\n                  onClick: () => {\n                    const newTasks = currentTasks.filter((_, i) => i !== index);\n                    setCurrentTasks(newTasks);\n                  },\n                  children: \"\\u2212\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1390,\n                  columnNumber: 27\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1378,\n                columnNumber: 23\n              }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-add-task\",\n                onClick: () => setCurrentTasks([...currentTasks, '']),\n                children: \"+ Add Task\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1403,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1375,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"block-actions\",\n              children: [!currentBlock.isBreak && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-break\",\n                onClick: handleBreak,\n                children: \"+ Break\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1413,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-advance\",\n                onClick: handleAdvanceBlock,\n                disabled: !currentBlock.endTime || !currentTasks.some(t => t.trim()),\n                children: \"Next Block \\u2192\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1417,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1411,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1319,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Ready to start tracking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1429,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-clock-in\",\n              onClick: handleClockIn,\n              children: \"Clock In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1430,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1428,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1215,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shift-summary\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"total-hours\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Total Hours:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1439,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: calculateTotalHours()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1440,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1438,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-save\",\n            onClick: previewShift,\n            disabled: completedBlocks.length === 0 && !currentBlock || saving,\n            children: saving ? 'Saving...' : 'Save Shift'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1442,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1437,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1203,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"completed-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Completed Blocks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1455,\n          columnNumber: 13\n        }, this), completedBlocks.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-completed\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Blocks will appear here as you complete them\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1458,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1457,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"completed-list\",\n          children: completedBlocks.map((block, index) => {\n            // Count only work blocks for numbering\n            const workBlockNumber = completedBlocks.slice(0, index + 1).filter(b => !b.isBreak).length;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `completed-block ${block.isBreak ? 'break-block' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"completed-block-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"completed-number\",\n                  children: block.isBreak ? 'Break' : `Block #${workBlockNumber}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1473,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"completed-hours\",\n                  children: [calculateBlockHours(block.startTime, block.endTime), \" hrs\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1476,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1472,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"completed-task\",\n                children: block.tasks.split(' • ').map((task, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"task-line\",\n                  children: task\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1482,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1480,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"completed-meta\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [formatTime(block.startTime), \" - \", formatTime(block.endTime)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1486,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"completed-actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: `btn-edit ${block.isBreak ? 'btn-extend-break' : ''}`,\n                    onClick: () => handleEditBlock(block),\n                    disabled: editingBlock !== null,\n                    children: block.isBreak ? 'Extend Break' : 'Edit'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1488,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn-delete\",\n                    onClick: () => removeCompletedBlock(block.id),\n                    children: \"\\xD7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1496,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1487,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1485,\n                columnNumber: 21\n              }, this)]\n            }, block.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1468,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1461,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1454,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1201,\n      columnNumber: 9\n    }, this) : activeTab === 'history' ?\n    /*#__PURE__*/\n    /* Shift History Tab */\n    _jsxDEV(\"main\", {\n      className: \"history-tab\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"shift-history-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Shift History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1516,\n          columnNumber: 13\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"loading-text\",\n          children: \"Loading shifts...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1518,\n          columnNumber: 15\n        }, this) : shifts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"empty-text\",\n          children: \"No shifts recorded yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1520,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-list\",\n          children: shifts.map(shift => {\n            const shiftId = shift._id || shift.id;\n            const isExpanded = expandedShifts.has(shiftId);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `history-item ${isExpanded ? 'expanded' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"history-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"history-header-left\",\n                  onClick: () => toggleShiftExpanded(shiftId),\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"expand-icon\",\n                    children: isExpanded ? '▼' : '▶'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1533,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"history-date\",\n                    children: formatDate(shift.date)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1534,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"history-times-inline\",\n                    children: [formatTime(shift.clockInTime), \" - \", formatTime(shift.clockOutTime)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1535,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1529,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"history-header-right\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"history-hours\",\n                    children: [shift.totalHours, \" hrs\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1540,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn-delete-shift\",\n                    onClick: e => {\n                      e.stopPropagation();\n                      if (window.confirm('Delete this shift?')) {\n                        shiftsAPI.delete(shiftId).then(() => {\n                          setShifts(shifts.filter(s => (s._id || s.id) !== shiftId));\n                        }).catch(err => alert('Failed to delete: ' + err.message));\n                      }\n                    },\n                    children: \"\\xD7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1541,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1539,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1528,\n                columnNumber: 23\n              }, this), isExpanded && shift.timeBlocks && shift.timeBlocks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"history-tasks\",\n                children: shift.timeBlocks.map((block, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `history-task ${block.isBreak ? 'break-task' : ''}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"task-time\",\n                    children: [formatTime(block.startTime), \" - \", formatTime(block.endTime)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1561,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"task-text\",\n                    children: block.tasks.split(' • ').map((task, j) => /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"task-line-inline\",\n                      children: task\n                    }, j, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1566,\n                      columnNumber: 35\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1564,\n                    columnNumber: 31\n                  }, this), calculateBlockHours(block.startTime, block.endTime) && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"task-hours\",\n                    children: [calculateBlockHours(block.startTime, block.endTime), \"h\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1570,\n                    columnNumber: 33\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1560,\n                  columnNumber: 29\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1558,\n                columnNumber: 25\n              }, this)]\n            }, shiftId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1527,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1522,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1515,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1514,\n      columnNumber: 9\n    }, this) :\n    /*#__PURE__*/\n    /* Admin View Tab */\n    _jsxDEV(\"main\", {\n      className: \"history-tab admin-view\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"shift-history-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"All Users' Shifts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1587,\n          columnNumber: 13\n        }, this), adminLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"loading-text\",\n          children: \"Loading all shifts...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1589,\n          columnNumber: 15\n        }, this) : adminShifts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"empty-text\",\n          children: \"No shifts from any users yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1591,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-list\",\n          children: adminShifts.map(shift => {\n            const shiftId = shift._id || shift.id;\n            const isExpanded = expandedShifts.has(shiftId);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `history-item ${isExpanded ? 'expanded' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"history-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"history-header-left\",\n                  onClick: () => toggleShiftExpanded(shiftId),\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"expand-icon\",\n                    children: isExpanded ? '▼' : '▶'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1604,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"admin-user-name\",\n                    children: shift.userName || 'Unknown'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1605,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"history-date\",\n                    children: formatDate(shift.date)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1606,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"history-times-inline\",\n                    children: [formatTime(shift.clockInTime), \" - \", formatTime(shift.clockOutTime)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1607,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1600,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"history-header-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"history-hours\",\n                    children: [shift.totalHours, \" hrs\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1612,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1611,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1599,\n                columnNumber: 23\n              }, this), isExpanded && shift.timeBlocks && shift.timeBlocks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"history-tasks\",\n                children: shift.timeBlocks.map((block, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `history-task ${block.isBreak ? 'break-task' : ''}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"task-time\",\n                    children: [formatTime(block.startTime), \" - \", formatTime(block.endTime)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1619,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"task-text\",\n                    children: block.tasks.split(' • ').map((task, j) => /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"task-line-inline\",\n                      children: task\n                    }, j, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1624,\n                      columnNumber: 35\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1622,\n                    columnNumber: 31\n                  }, this), calculateBlockHours(block.startTime, block.endTime) && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"task-hours\",\n                    children: [calculateBlockHours(block.startTime, block.endTime), \"h\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1628,\n                    columnNumber: 33\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1618,\n                  columnNumber: 29\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1616,\n                columnNumber: 25\n              }, this)]\n            }, shiftId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1598,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1593,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1586,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1585,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 845,\n    columnNumber: 5\n  }, this);\n}\n_s(TimeClock, \"Gxx6a4gXQwoPltJSnFhWkWVdBo0=\", false, function () {\n  return [useAuth];\n});\n_c = TimeClock;\nfunction AppContent() {\n  _s2();\n  const {\n    isAuthenticated,\n    loading\n  } = useAuth();\n  const [showRegister, setShowRegister] = useState(() => {\n    return window.location.pathname === '/register';\n  });\n  const handleSwitchToLogin = () => {\n    setShowRegister(false);\n    window.history.pushState({}, '', '/');\n  };\n  const handleSwitchToRegister = () => {\n    setShowRegister(true);\n    window.history.pushState({}, '', '/register');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Time Clock\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1665,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1666,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1664,\n      columnNumber: 7\n    }, this);\n  }\n  if (!isAuthenticated) {\n    return showRegister ? /*#__PURE__*/_jsxDEV(Register, {\n      onSwitchToLogin: handleSwitchToLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1673,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(Login, {\n      onSwitchToRegister: handleSwitchToRegister\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1675,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(TimeClock, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1679,\n    columnNumber: 10\n  }, this);\n}\n_s2(AppContent, \"oGs7TMcxUE1QpKNpB/vXwGMqSmw=\", false, function () {\n  return [useAuth];\n});\n_c2 = AppContent;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: /*#__PURE__*/_jsxDEV(AppContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1685,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1684,\n    columnNumber: 5\n  }, this);\n}\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"TimeClock\");\n$RefreshReg$(_c2, \"AppContent\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","AuthProvider","useAuth","shiftsAPI","authAPI","Login","Register","jsxDEV","_jsxDEV","Fragment","_Fragment","ADMIN_EMAIL","TimeClock","_s","user","logout","completedBlocks","setCompletedBlocks","currentBlock","setCurrentBlock","currentTasks","setCurrentTasks","editingBlock","setEditingBlock","editingTasks","setEditingTasks","editingOriginalIndex","setEditingOriginalIndex","swipingBlockId","setSwipingBlockId","testBlocks","setTestBlocks","testBreaks","setTestBreaks","nowOffsetHours","setNowOffsetHours","nowOffsetMins","setNowOffsetMins","activeTab","setActiveTab","adminShifts","setAdminShifts","adminLoading","setAdminLoading","isAdmin","email","currentDate","setCurrentDate","now","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","shifts","setShifts","loading","setLoading","saving","setSaving","toast","setToast","expandedShifts","setExpandedShifts","Set","showPreviewModal","setShowPreviewModal","previewShiftData","setPreviewShiftData","showGapModal","setShowGapModal","gapData","setGapData","gapTasks","setGapTasks","blocksBeforeEdit","setBlocksBeforeEdit","showUserDropdown","setShowUserDropdown","dropdownRef","showPasswordModal","setShowPasswordModal","passwordData","setPasswordData","current","new","confirm","passwordError","setPasswordError","passwordSuccess","setPasswordSuccess","changingPassword","setChangingPassword","pendingShiftId","setPendingShiftId","autoSaveStatus","setAutoSaveStatus","showRecoveryModal","setShowRecoveryModal","recoveryShift","setRecoveryShift","loadShifts","data","getAll","err","console","error","checkPendingShift","pending","getPending","id","length","loadAdminShifts","getAllAdmin","handleClickOutside","event","contains","target","document","addEventListener","removeEventListener","getActualTime","hours","getHours","minutes","getMinutes","getStartTime","lastBlock","endTime","getEndTimeWithOffset","startTime","h","m","split","map","Number","baseTime","setHours","setMinutes","incrementEndTime","block","updateFn","newTime","addMinutesToTime","time","minutesToAdd","date","calculateBlockHours","normalizeTime","t","slice","join","start","end","startDate","endDate","diffMs","diffHours","toFixed","handleClockIn","clockInTime","shift","clockIn","newBlock","tasks","alert","message","joinTasks","tasksArray","filter","trim","handleAdvanceBlock","completedBlock","setTimeout","savedBlock","addBlock","isBreak","serverId","handleBreak","breakStartTime","breakEndTime","joinedTasks","updatedBlocks","workBlock","breakBlock","savedBreak","prev","updateCurrentBlock","field","value","updateEditingBlock","handleEditBlock","originalIndex","findIndex","b","timeToMinutes","processBlocksAfterEdit","blocks","insertIndex","splice","editedEndMinutes","nextBlock","nextStartMinutes","i","blockStartMinutes","blockEndMinutes","gap","gapIndex","handleSaveEdit","originalBlocks","Math","min","result","pendingBlocks","handleFillGap","gapBlock","gapEndMinutes","nextIndex","handleCancelGap","handleCancelEdit","removeCompletedBlock","handleChangePassword","changePassword","closePasswordModal","clientTasks","generateTestShift","currentHour","currentMinute","breakCount","totalBlocks","breakInterval","floor","duration","random","push","clearAll","calculateTotalHours","total","Boolean","forEach","hrs","parseFloat","previewShift","allBlocks","currentJoinedTasks","validBlocks","clockOutTime","totalHours","shiftData","timeBlocks","confirmSave","newShift","create","cancelPreview","formatTime","timeStr","Array","isArray","log","parts","hour","parseInt","isNaN","ampm","formattedHour","formatDate","dateStr","test","getTime","toLocaleDateString","weekday","blockCount","toggleShiftExpanded","shiftId","newSet","has","delete","add","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","e","stopPropagation","index","workBlockNumber","task","disabled","type","onChange","newTasks","placeholder","_","some","n","randomTask","emptyIndex","ref","name","readOnly","_id","isExpanded","window","then","s","catch","j","userName","_c","AppContent","_s2","isAuthenticated","showRegister","setShowRegister","location","pathname","handleSwitchToLogin","history","pushState","handleSwitchToRegister","onSwitchToLogin","onSwitchToRegister","_c2","App","_c3","$RefreshReg$"],"sources":["/Users/trevo/Projects/Full Scope Estimating/timeClock/timeClock_v1/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { AuthProvider, useAuth } from './context/AuthContext';\nimport { shiftsAPI, authAPI } from './services/api';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport './App.css';\n\n// Hardcoded admin email\nconst ADMIN_EMAIL = 'tyler@fullscopeestimating.com';\n\nfunction TimeClock() {\n  const { user, logout } = useAuth();\n  const [completedBlocks, setCompletedBlocks] = useState([]);\n  const [currentBlock, setCurrentBlock] = useState(null);\n  const [currentTasks, setCurrentTasks] = useState(['']); // Array of task inputs for current block\n  const [editingBlock, setEditingBlock] = useState(null); // For \"going back in time\"\n  const [editingTasks, setEditingTasks] = useState(['']); // Array of task inputs for editing block\n  const [editingOriginalIndex, setEditingOriginalIndex] = useState(null); // Track original position\n  const [swipingBlockId, setSwipingBlockId] = useState(null);\n  const [testBlocks, setTestBlocks] = useState(5);\n  const [testBreaks, setTestBreaks] = useState(2);\n  const [nowOffsetHours, setNowOffsetHours] = useState(0);\n  const [nowOffsetMins, setNowOffsetMins] = useState(0);\n  const [activeTab, setActiveTab] = useState('today'); // 'today', 'history', or 'admin'\n  const [adminShifts, setAdminShifts] = useState([]);\n  const [adminLoading, setAdminLoading] = useState(false);\n  const isAdmin = user?.email === ADMIN_EMAIL;\n  const [currentDate, setCurrentDate] = useState(() => {\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, '0');\n    const day = String(now.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  });\n  const [shifts, setShifts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [toast, setToast] = useState(null); // { shift, message }\n  const [expandedShifts, setExpandedShifts] = useState(new Set()); // Track expanded shift IDs\n  const [showPreviewModal, setShowPreviewModal] = useState(false);\n  const [previewShiftData, setPreviewShiftData] = useState(null);\n  const [showGapModal, setShowGapModal] = useState(false);\n  const [gapData, setGapData] = useState(null); // { startTime, endTime, pendingBlocks, gapIndex }\n  const [gapTasks, setGapTasks] = useState(['']);\n  const [blocksBeforeEdit, setBlocksBeforeEdit] = useState(null); // For restoring on gap cancel\n  const [showUserDropdown, setShowUserDropdown] = useState(false);\n  const dropdownRef = useRef(null);\n  const [showPasswordModal, setShowPasswordModal] = useState(false);\n  const [passwordData, setPasswordData] = useState({ current: '', new: '', confirm: '' });\n  const [passwordError, setPasswordError] = useState('');\n  const [passwordSuccess, setPasswordSuccess] = useState(false);\n  const [changingPassword, setChangingPassword] = useState(false);\n  // Auto-save state\n  const [pendingShiftId, setPendingShiftId] = useState(null);\n  const [autoSaveStatus, setAutoSaveStatus] = useState('idle'); // 'idle', 'saving', 'saved', 'error'\n  const [showRecoveryModal, setShowRecoveryModal] = useState(false);\n  const [recoveryShift, setRecoveryShift] = useState(null);\n\n  useEffect(() => {\n    const loadShifts = async () => {\n      try {\n        const data = await shiftsAPI.getAll();\n        setShifts(data);\n      } catch (err) {\n        console.error('Failed to load shifts:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadShifts();\n  }, []);\n\n  // Check for pending shift on load (for recovery)\n  useEffect(() => {\n    const checkPendingShift = async () => {\n      try {\n        const pending = await shiftsAPI.getPending();\n        if (pending && pending.id) {\n          setRecoveryShift(pending);\n          setShowRecoveryModal(true);\n        }\n      } catch (err) {\n        console.error('Failed to check pending shift:', err);\n      }\n    };\n    checkPendingShift();\n  }, []);\n\n  // Load admin shifts when admin tab is selected\n  useEffect(() => {\n    if (activeTab === 'admin' && isAdmin && adminShifts.length === 0) {\n      const loadAdminShifts = async () => {\n        setAdminLoading(true);\n        try {\n          const data = await shiftsAPI.getAllAdmin();\n          setAdminShifts(data);\n        } catch (err) {\n          console.error('Failed to load admin shifts:', err);\n        } finally {\n          setAdminLoading(false);\n        }\n      };\n      loadAdminShifts();\n    }\n  }, [activeTab, isAdmin, adminShifts.length]);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setShowUserDropdown(false);\n      }\n    };\n\n    if (showUserDropdown) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showUserDropdown]);\n\n  // Get actual current time (no offset)\n  const getActualTime = () => {\n    const now = new Date();\n    const hours = String(now.getHours()).padStart(2, '0');\n    const minutes = String(now.getMinutes()).padStart(2, '0');\n    return `${hours}:${minutes}`;\n  };\n\n  // Get start time for \"Now\" - uses previous block's end time if available\n  const getStartTime = () => {\n    // If there are completed blocks, continue from last one's end time\n    if (completedBlocks.length > 0) {\n      const lastBlock = completedBlocks[completedBlocks.length - 1];\n      if (lastBlock.endTime) {\n        return lastBlock.endTime;\n      }\n    }\n    // Otherwise use actual current time\n    return getActualTime();\n  };\n\n  // Get end time = start time + offset (for \"Now\" on end time field)\n  const getEndTimeWithOffset = (startTime) => {\n    if (!startTime) return getActualTime();\n\n    const [h, m] = startTime.split(':').map(Number);\n    const baseTime = new Date(2000, 0, 1, h, m);\n\n    // Add offset to get end time\n    baseTime.setHours(baseTime.getHours() + nowOffsetHours);\n    baseTime.setMinutes(baseTime.getMinutes() + nowOffsetMins);\n\n    const hours = String(baseTime.getHours()).padStart(2, '0');\n    const minutes = String(baseTime.getMinutes()).padStart(2, '0');\n    return `${hours}:${minutes}`;\n  };\n\n  // Increment end time - if no end time, use start time as base\n  const incrementEndTime = (block, updateFn, minutes) => {\n    const baseTime = block.endTime || block.startTime;\n    if (!baseTime) return;\n    const newTime = addMinutesToTime(baseTime, minutes);\n    updateFn('endTime', newTime);\n  };\n\n  const addMinutesToTime = (time, minutesToAdd) => {\n    const [hours, minutes] = time.split(':').map(Number);\n    const date = new Date(2000, 0, 1, hours, minutes);\n    date.setMinutes(date.getMinutes() + minutesToAdd);\n    return `${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;\n  };\n\n  const calculateBlockHours = (startTime, endTime) => {\n    if (!startTime || !endTime) return null;\n\n    // Normalize time strings (handle HH:MM:SS and HH:MM formats)\n    const normalizeTime = (t) => {\n      if (typeof t !== 'string') return t;\n      // Take only HH:MM part\n      return t.split(':').slice(0, 2).join(':');\n    };\n\n    const start = normalizeTime(startTime);\n    const end = normalizeTime(endTime);\n\n    const startDate = new Date(`2000-01-01T${start}:00`);\n    let endDate = new Date(`2000-01-01T${end}:00`);\n\n    // Handle midnight crossing (e.g., 22:00 to 00:00)\n    if (endDate <= startDate) {\n      endDate = new Date(`2000-01-02T${end}:00`);\n    }\n\n    const diffMs = endDate - startDate;\n    const diffHours = diffMs / (1000 * 60 * 60);\n    return diffHours > 0 ? diffHours.toFixed(2) : '0.00';\n  };\n\n  const handleClockIn = async () => {\n    try {\n      const clockInTime = getStartTime();\n      // Create pending shift on server\n      const shift = await shiftsAPI.clockIn(currentDate, clockInTime);\n      setPendingShiftId(shift.id);\n\n      const newBlock = {\n        id: Date.now(),\n        startTime: clockInTime,\n        endTime: '',\n        tasks: ''\n      };\n      setCurrentBlock(newBlock);\n      setCurrentTasks(['']);\n    } catch (err) {\n      console.error('Failed to clock in:', err);\n      alert('Failed to start shift: ' + err.message);\n    }\n  };\n\n  // Join tasks array into a string, filtering empty entries\n  const joinTasks = (tasksArray) => {\n    return tasksArray.filter(t => t.trim()).join(' • ');\n  };\n\n  const handleAdvanceBlock = async () => {\n    if (!currentBlock || !currentBlock.endTime) return;\n\n    // Join tasks before completing\n    const completedBlock = {\n      ...currentBlock,\n      tasks: joinTasks(currentTasks)\n    };\n\n    // Trigger swipe animation\n    setSwipingBlockId(currentBlock.id);\n\n    setTimeout(async () => {\n      // Save block to server if we have a pending shift\n      if (pendingShiftId) {\n        try {\n          setAutoSaveStatus('saving');\n          const savedBlock = await shiftsAPI.addBlock(pendingShiftId, {\n            startTime: completedBlock.startTime,\n            endTime: completedBlock.endTime,\n            tasks: completedBlock.tasks,\n            isBreak: completedBlock.isBreak || false\n          });\n          // Update local block with server ID\n          completedBlock.serverId = savedBlock.id;\n          setAutoSaveStatus('saved');\n          setTimeout(() => setAutoSaveStatus('idle'), 2000);\n        } catch (err) {\n          console.error('Failed to save block:', err);\n          setAutoSaveStatus('error');\n          setTimeout(() => setAutoSaveStatus('idle'), 3000);\n        }\n      }\n\n      // Move current block to completed\n      setCompletedBlocks([...completedBlocks, completedBlock]);\n\n      // Create new current block with previous end time as start\n      const newBlock = {\n        id: Date.now(),\n        startTime: currentBlock.endTime,\n        endTime: '',\n        tasks: ''\n      };\n      setCurrentBlock(newBlock);\n      setCurrentTasks(['']);\n      setSwipingBlockId(null);\n      setEditingBlock(null);\n    }, 400);\n  };\n\n  const handleBreak = async () => {\n    if (!currentBlock) return;\n\n    // Break starts where current block ends (or use current block's end time if set)\n    // Do NOT use getActualTime() here - breaks should continue from last block\n    let breakStartTime;\n    if (currentBlock.endTime) {\n      breakStartTime = currentBlock.endTime;\n    } else if (completedBlocks.length > 0) {\n      // Use end time of last completed block\n      breakStartTime = completedBlocks[completedBlocks.length - 1].endTime;\n    } else {\n      // Fallback: use current block's start time\n      breakStartTime = currentBlock.startTime;\n    }\n\n    const breakEndTime = addMinutesToTime(breakStartTime, 15);\n\n    // Complete current block first if it has content\n    const joinedTasks = joinTasks(currentTasks);\n    let updatedBlocks = [...completedBlocks];\n    if (currentBlock.startTime && joinedTasks) {\n      const workBlock = { ...currentBlock, tasks: joinedTasks, endTime: breakStartTime };\n      // Save work block to server if we have a pending shift\n      if (pendingShiftId) {\n        try {\n          const savedBlock = await shiftsAPI.addBlock(pendingShiftId, {\n            startTime: workBlock.startTime,\n            endTime: workBlock.endTime,\n            tasks: workBlock.tasks,\n            isBreak: false\n          });\n          workBlock.serverId = savedBlock.id;\n        } catch (err) {\n          console.error('Failed to save work block:', err);\n        }\n      }\n      updatedBlocks = [...completedBlocks, workBlock];\n      setCompletedBlocks(updatedBlocks);\n    }\n\n    // Create break block and immediately complete it\n    const breakBlock = {\n      id: Date.now(),\n      startTime: breakStartTime,\n      endTime: breakEndTime,\n      tasks: '15 min Break',\n      isBreak: true\n    };\n\n    setSwipingBlockId(breakBlock.id);\n\n    setTimeout(async () => {\n      // Save break block to server\n      if (pendingShiftId) {\n        try {\n          setAutoSaveStatus('saving');\n          const savedBreak = await shiftsAPI.addBlock(pendingShiftId, {\n            startTime: breakBlock.startTime,\n            endTime: breakBlock.endTime,\n            tasks: breakBlock.tasks,\n            isBreak: true\n          });\n          breakBlock.serverId = savedBreak.id;\n          setAutoSaveStatus('saved');\n          setTimeout(() => setAutoSaveStatus('idle'), 2000);\n        } catch (err) {\n          console.error('Failed to save break:', err);\n          setAutoSaveStatus('error');\n          setTimeout(() => setAutoSaveStatus('idle'), 3000);\n        }\n      }\n\n      setCompletedBlocks(prev => [...prev, breakBlock]);\n\n      // Create new current block starting after break\n      const newBlock = {\n        id: Date.now() + 1,\n        startTime: breakEndTime,\n        endTime: '',\n        tasks: ''\n      };\n      setCurrentBlock(newBlock);\n      setCurrentTasks(['']);\n      setSwipingBlockId(null);\n    }, 400);\n  };\n\n  const updateCurrentBlock = (field, value) => {\n    setCurrentBlock({ ...currentBlock, [field]: value });\n  };\n\n  const updateEditingBlock = (field, value) => {\n    setEditingBlock({ ...editingBlock, [field]: value });\n  };\n\n  const handleEditBlock = (block) => {\n    // Track original position before removing\n    const originalIndex = completedBlocks.findIndex(b => b.id === block.id);\n    setEditingOriginalIndex(originalIndex);\n\n    // Save current block state and edit the selected block\n    setEditingBlock(block);\n    // Split existing tasks string into array for editing (skip for breaks)\n    const tasksArray = block.isBreak ? [''] : (block.tasks ? block.tasks.split(' • ') : ['']);\n    setEditingTasks(tasksArray.length > 0 ? tasksArray : ['']);\n    // Remove from completed blocks\n    setCompletedBlocks(completedBlocks.filter(b => b.id !== block.id));\n  };\n\n  // Helper to compare times accounting for overnight shifts\n  const timeToMinutes = (time) => {\n    if (!time) return 0;\n    const [h, m] = time.split(':').map(Number);\n    return h * 60 + m;\n  };\n\n  // Process blocks after edit - handle overlaps and gaps\n  const processBlocksAfterEdit = (blocks, savedBlock, insertIndex) => {\n    let updatedBlocks = [...blocks];\n    updatedBlocks.splice(insertIndex, 0, savedBlock);\n\n    const editedEndMinutes = timeToMinutes(savedBlock.endTime);\n\n    // Check if there's a next block\n    if (insertIndex + 1 < updatedBlocks.length) {\n      const nextBlock = updatedBlocks[insertIndex + 1];\n      const nextStartMinutes = timeToMinutes(nextBlock.startTime);\n\n      // Handle overlaps\n      if (editedEndMinutes > nextStartMinutes) {\n        // Complete overlap - remove blocks\n        let i = insertIndex + 1;\n        while (i < updatedBlocks.length) {\n          const block = updatedBlocks[i];\n          const blockStartMinutes = timeToMinutes(block.startTime);\n          const blockEndMinutes = timeToMinutes(block.endTime);\n\n          if (editedEndMinutes >= blockEndMinutes) {\n            updatedBlocks.splice(i, 1);\n          } else if (editedEndMinutes > blockStartMinutes) {\n            updatedBlocks[i] = { ...block, startTime: savedBlock.endTime };\n            i++;\n          } else {\n            break;\n          }\n        }\n        return { blocks: updatedBlocks, gap: null };\n      }\n\n      // Handle gap - edited end time is BEFORE next block's start\n      if (editedEndMinutes < nextStartMinutes) {\n        return {\n          blocks: updatedBlocks,\n          gap: {\n            startTime: savedBlock.endTime,\n            endTime: nextBlock.startTime,\n            gapIndex: insertIndex + 1\n          }\n        };\n      }\n    }\n\n    return { blocks: updatedBlocks, gap: null };\n  };\n\n  const handleSaveEdit = () => {\n    if (!editingBlock) return;\n\n    // Save original blocks in case we need to restore on gap cancel\n    // Include the editing block at its original position\n    const originalBlocks = [...completedBlocks];\n    originalBlocks.splice(editingOriginalIndex, 0, editingBlock);\n    setBlocksBeforeEdit(originalBlocks);\n\n    // Join tasks before saving (keep original for breaks)\n    const savedBlock = {\n      ...editingBlock,\n      tasks: editingBlock.isBreak ? editingBlock.tasks : joinTasks(editingTasks)\n    };\n\n    // Swipe the edited block back to completed\n    setSwipingBlockId(editingBlock.id);\n\n    setTimeout(() => {\n      const insertIndex = Math.min(editingOriginalIndex, completedBlocks.length);\n      const result = processBlocksAfterEdit(completedBlocks, savedBlock, insertIndex);\n\n      if (result.gap) {\n        // There's a gap - show modal to fill it\n        setGapData({\n          ...result.gap,\n          pendingBlocks: result.blocks\n        });\n        setGapTasks(['']);\n        setShowGapModal(true);\n      } else {\n        setCompletedBlocks(result.blocks);\n        setBlocksBeforeEdit(null);\n\n        // If the edited block is the last block and there's a current block,\n        // update the current block's start time to match the edited block's end time\n        const lastBlock = result.blocks[result.blocks.length - 1];\n        if (currentBlock && lastBlock && lastBlock.id === savedBlock.id && savedBlock.endTime) {\n          setCurrentBlock(prev => ({ ...prev, startTime: savedBlock.endTime }));\n        }\n      }\n\n      setEditingBlock(null);\n      setEditingTasks(['']);\n      setEditingOriginalIndex(null);\n      setSwipingBlockId(null);\n    }, 400);\n  };\n\n  // Handle filling a gap\n  const handleFillGap = () => {\n    if (!gapData) return;\n\n    const gapBlock = {\n      id: Date.now(),\n      startTime: gapData.startTime,\n      endTime: gapData.endTime,\n      tasks: joinTasks(gapTasks),\n      isBreak: false\n    };\n\n    // Insert the gap block\n    let updatedBlocks = [...gapData.pendingBlocks];\n    updatedBlocks.splice(gapData.gapIndex, 0, gapBlock);\n\n    // Check if this creates another gap or overlap\n    const gapEndMinutes = timeToMinutes(gapBlock.endTime);\n    const nextIndex = gapData.gapIndex + 1;\n\n    if (nextIndex < updatedBlocks.length) {\n      const nextBlock = updatedBlocks[nextIndex];\n      const nextStartMinutes = timeToMinutes(nextBlock.startTime);\n\n      // Still a gap?\n      if (gapEndMinutes < nextStartMinutes) {\n        setGapData({\n          startTime: gapBlock.endTime,\n          endTime: nextBlock.startTime,\n          pendingBlocks: updatedBlocks,\n          gapIndex: nextIndex\n        });\n        setGapTasks(['']);\n        return; // Keep modal open\n      }\n\n      // Overlap? Adjust next block\n      if (gapEndMinutes > nextStartMinutes) {\n        updatedBlocks[nextIndex] = { ...nextBlock, startTime: gapBlock.endTime };\n      }\n    }\n\n    setCompletedBlocks(updatedBlocks);\n    setShowGapModal(false);\n    setGapData(null);\n    setGapTasks(['']);\n    setBlocksBeforeEdit(null);\n  };\n\n  const handleCancelGap = () => {\n    // Cancel gap fill - restore blocks to state before the edit\n    if (blocksBeforeEdit) {\n      setCompletedBlocks(blocksBeforeEdit);\n    }\n    setShowGapModal(false);\n    setGapData(null);\n    setGapTasks(['']);\n    setBlocksBeforeEdit(null);\n  };\n\n  const handleCancelEdit = () => {\n    // Restore the editing block to completed at original position\n    if (editingBlock) {\n      const updatedBlocks = [...completedBlocks];\n      const insertIndex = Math.min(editingOriginalIndex ?? updatedBlocks.length, updatedBlocks.length);\n      updatedBlocks.splice(insertIndex, 0, editingBlock);\n      setCompletedBlocks(updatedBlocks);\n    }\n    setEditingBlock(null);\n    setEditingTasks(['']);\n    setEditingOriginalIndex(null);\n  };\n\n  const removeCompletedBlock = (id) => {\n    setCompletedBlocks(completedBlocks.filter(b => b.id !== id));\n  };\n\n  const handleChangePassword = async () => {\n    setPasswordError('');\n\n    if (!passwordData.current || !passwordData.new || !passwordData.confirm) {\n      setPasswordError('All fields are required');\n      return;\n    }\n\n    if (passwordData.new !== passwordData.confirm) {\n      setPasswordError('New passwords do not match');\n      return;\n    }\n\n    if (passwordData.new.length < 6) {\n      setPasswordError('New password must be at least 6 characters');\n      return;\n    }\n\n    setChangingPassword(true);\n    try {\n      await authAPI.changePassword(passwordData.current, passwordData.new);\n      setPasswordSuccess(true);\n      setPasswordData({ current: '', new: '', confirm: '' });\n      setTimeout(() => {\n        setShowPasswordModal(false);\n        setPasswordSuccess(false);\n      }, 2000);\n    } catch (err) {\n      setPasswordError(err.message || 'Failed to change password');\n    } finally {\n      setChangingPassword(false);\n    }\n  };\n\n  const closePasswordModal = () => {\n    setShowPasswordModal(false);\n    setPasswordData({ current: '', new: '', confirm: '' });\n    setPasswordError('');\n    setPasswordSuccess(false);\n  };\n\n  const clientTasks = [\n    'Fixed responsive layout issues on mobile',\n    'Implemented form validation for user inputs',\n    'Added loading spinners and skeleton screens',\n    'Debugged API integration issues',\n    'Optimized React component rendering',\n    'Styled buttons and input components',\n    'Created reusable modal component',\n    'Fixed CSS grid alignment on dashboard',\n    'Implemented state management for cart',\n    'Added error handling for fetch requests',\n    'Built date picker component',\n    'Fixed cross-browser compatibility issues',\n    'Implemented infinite scroll pagination',\n    'Added toast notifications system',\n    'Refactored authentication flow'\n  ];\n\n  const generateTestShift = () => {\n    const blocks = [];\n    let currentHour = 8;\n    let currentMinute = 0;\n    let breakCount = 0;\n    const totalBlocks = testBlocks + testBreaks;\n    const breakInterval = Math.floor(totalBlocks / (testBreaks + 1));\n\n    for (let i = 0; i < totalBlocks; i++) {\n      const startTime = `${String(currentHour).padStart(2, '0')}:${String(currentMinute).padStart(2, '0')}`;\n      const isBreak = breakCount < testBreaks && (i + 1) % breakInterval === 0;\n      const duration = isBreak ? 15 : (45 + Math.floor(Math.random() * 45));\n\n      currentMinute += duration;\n      while (currentMinute >= 60) {\n        currentHour++;\n        currentMinute -= 60;\n      }\n\n      const endTime = `${String(currentHour).padStart(2, '0')}:${String(currentMinute).padStart(2, '0')}`;\n\n      if (isBreak) {\n        blocks.push({\n          id: Date.now() + i,\n          startTime,\n          endTime,\n          tasks: '15 min Break',\n          isBreak: true\n        });\n        breakCount++;\n      } else {\n        blocks.push({\n          id: Date.now() + i,\n          startTime,\n          endTime,\n          tasks: clientTasks[Math.floor(Math.random() * clientTasks.length)]\n        });\n      }\n    }\n\n    // All but last go to completed, last becomes current\n    if (blocks.length > 0) {\n      setCompletedBlocks(blocks.slice(0, -1));\n      const lastBlock = blocks[blocks.length - 1];\n      setCurrentBlock({\n        ...lastBlock,\n        endTime: '', // Make it editable\n      });\n      // Set the tasks array from the last block\n      setCurrentTasks(lastBlock.tasks ? [lastBlock.tasks] : ['']);\n    }\n    setEditingBlock(null);\n    setEditingTasks(['']);\n  };\n\n  const clearAll = () => {\n    setCompletedBlocks([]);\n    setCurrentBlock(null);\n    setCurrentTasks(['']);\n    setEditingBlock(null);\n    setEditingTasks(['']);\n  };\n\n  const calculateTotalHours = () => {\n    let total = 0;\n    [...completedBlocks, currentBlock].filter(Boolean).forEach(block => {\n      const hrs = calculateBlockHours(block.startTime, block.endTime);\n      if (hrs) total += parseFloat(hrs);\n    });\n    return total.toFixed(2);\n  };\n\n  // Preview shift before saving - shows confirmation modal\n  const previewShift = () => {\n    const allBlocks = [...completedBlocks];\n    // Include current block only if fully filled out (start time, end time, AND tasks)\n    // This ignores placeholder blocks that only have a start time from \"Next Block\"\n    const currentJoinedTasks = joinTasks(currentTasks);\n    if (currentBlock && currentBlock.startTime && currentBlock.endTime && currentJoinedTasks) {\n      allBlocks.push({ ...currentBlock, tasks: currentJoinedTasks });\n    }\n\n    const validBlocks = allBlocks.filter(block => block.startTime && block.endTime && block.tasks);\n\n    if (validBlocks.length === 0) {\n      alert('Please add at least one complete time block (start time, end time, and tasks)');\n      return;\n    }\n\n    // Don't sort - preserve the order user entered them (handles overnight shifts correctly)\n    const clockInTime = validBlocks[0].startTime;\n    const clockOutTime = validBlocks[validBlocks.length - 1].endTime || validBlocks[validBlocks.length - 1].startTime;\n    const totalHours = calculateTotalHours();\n\n    const shiftData = {\n      date: currentDate,\n      clockInTime,\n      clockOutTime,\n      totalHours,\n      timeBlocks: validBlocks\n    };\n\n    setPreviewShiftData(shiftData);\n    setShowPreviewModal(true);\n  };\n\n  // Actually save the shift after confirmation\n  const confirmSave = async () => {\n    if (!previewShiftData) return;\n\n    setSaving(true);\n    try {\n      const newShift = await shiftsAPI.create(previewShiftData);\n      setShifts([newShift, ...shifts]);\n\n      // Show toast with preview\n      setToast({\n        message: 'Shift saved successfully!',\n        shift: previewShiftData\n      });\n      setTimeout(() => setToast(null), 5000);\n\n      setShowPreviewModal(false);\n      setPreviewShiftData(null);\n      clearAll();\n    } catch (err) {\n      alert('Failed to save shift: ' + err.message);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const cancelPreview = () => {\n    setShowPreviewModal(false);\n    setPreviewShiftData(null);\n  };\n\n  const formatTime = (time) => {\n    if (!time) return '--:--';\n\n    let timeStr = time;\n\n    // Handle Date objects\n    if (time instanceof Date) {\n      const h = time.getHours();\n      const m = time.getMinutes();\n      timeStr = `${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}`;\n    }\n\n    // Handle object with hours/minutes (some DB drivers return this)\n    if (typeof time === 'object' && time !== null && !Array.isArray(time)) {\n      if ('hours' in time || 'minutes' in time) {\n        const h = time.hours || 0;\n        const m = time.minutes || 0;\n        timeStr = `${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}`;\n      }\n    }\n\n    // Ensure it's a string\n    if (typeof timeStr !== 'string') {\n      console.log('Unexpected time format:', time, typeof time);\n      return '--:--';\n    }\n\n    // Handle both \"HH:MM\" and \"HH:MM:SS\" formats\n    const parts = timeStr.split(':');\n    if (parts.length < 2) return '--:--';\n    const hours = parts[0];\n    const minutes = parts[1];\n    const hour = parseInt(hours);\n    if (isNaN(hour)) return '--:--';\n    const ampm = hour >= 12 ? 'PM' : 'AM';\n    const formattedHour = hour % 12 || 12;\n    return `${formattedHour}:${minutes} ${ampm}`;\n  };\n\n  const formatDate = (dateStr) => {\n    if (!dateStr) return 'Invalid Date';\n    try {\n      let date;\n      // Handle Date objects, ISO strings, and YYYY-MM-DD strings\n      if (dateStr instanceof Date) {\n        date = dateStr;\n      } else if (typeof dateStr === 'string') {\n        // If it's just YYYY-MM-DD, add time to avoid timezone issues\n        if (/^\\d{4}-\\d{2}-\\d{2}$/.test(dateStr)) {\n          date = new Date(dateStr + 'T12:00:00');\n        } else {\n          date = new Date(dateStr);\n        }\n      } else {\n        return 'Invalid Date';\n      }\n      if (isNaN(date.getTime())) return 'Invalid Date';\n      return date.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });\n    } catch {\n      return 'Invalid Date';\n    }\n  };\n\n  const blockCount = completedBlocks.length + (currentBlock ? 1 : 0);\n\n  const toggleShiftExpanded = (shiftId) => {\n    setExpandedShifts(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(shiftId)) {\n        newSet.delete(shiftId);\n      } else {\n        newSet.add(shiftId);\n      }\n      return newSet;\n    });\n  };\n\n  return (\n    <div className=\"app\">\n      {/* Toast Notification */}\n      {toast && (\n        <div className=\"toast\">\n          <div className=\"toast-header\">\n            <span className=\"toast-message\">{toast.message}</span>\n            <button className=\"toast-close\" onClick={() => setToast(null)}>&times;</button>\n          </div>\n          <div className=\"toast-preview\">\n            <div className=\"toast-date\">{formatDate(toast.shift.date)}</div>\n            <div className=\"toast-times\">\n              {formatTime(toast.shift.clockInTime)} - {formatTime(toast.shift.clockOutTime)}\n            </div>\n            <div className=\"toast-hours\">{toast.shift.totalHours} hours</div>\n            <div className=\"toast-blocks\">\n              {toast.shift.timeBlocks.filter(b => !b.isBreak).slice(0, 3).map((b, i) => (\n                <div key={i} className=\"toast-block-item\">{b.tasks}</div>\n              ))}\n              {toast.shift.timeBlocks.filter(b => !b.isBreak).length > 3 && (\n                <div className=\"toast-more\">+{toast.shift.timeBlocks.filter(b => !b.isBreak).length - 3} more</div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Confirmation Modal */}\n      {showPreviewModal && previewShiftData && (\n        <div className=\"modal-overlay\" onClick={cancelPreview}>\n          <div className=\"preview-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h2>Review Your Shift</h2>\n              <button className=\"modal-close\" onClick={cancelPreview}>&times;</button>\n            </div>\n            <div className=\"modal-body\">\n              <div className=\"preview-summary\">\n                <div className=\"preview-date\">{formatDate(previewShiftData.date)}</div>\n                <div className=\"preview-times\">\n                  <span className=\"preview-label\">Clock In/Out:</span>\n                  <span>{formatTime(previewShiftData.clockInTime)} - {formatTime(previewShiftData.clockOutTime)}</span>\n                </div>\n                <div className=\"preview-total\">\n                  <span className=\"preview-label\">Total Hours:</span>\n                  <strong>{previewShiftData.totalHours} hrs</strong>\n                </div>\n              </div>\n              <div className=\"preview-blocks\">\n                <h3>Time Blocks</h3>\n                {previewShiftData.timeBlocks.map((block, index) => {\n                  // Count only work blocks for numbering\n                  const workBlockNumber = previewShiftData.timeBlocks\n                    .slice(0, index + 1)\n                    .filter(b => !b.isBreak).length;\n                  return (\n                  <div key={index} className={`preview-block ${block.isBreak ? 'break-block' : ''}`}>\n                    <div className=\"preview-block-header\">\n                      <span className=\"preview-block-num\">\n                        {block.isBreak ? 'Break' : `Block ${workBlockNumber}`}\n                      </span>\n                      <span className=\"preview-block-time\">\n                        {formatTime(block.startTime)} - {formatTime(block.endTime)}\n                      </span>\n                      <span className=\"preview-block-hours\">\n                        {calculateBlockHours(block.startTime, block.endTime)}h\n                      </span>\n                    </div>\n                    <div className=\"preview-block-tasks\">\n                      {block.tasks.split(' • ').map((task, i) => (\n                        <div key={i} className=\"preview-task-item\">{task}</div>\n                      ))}\n                    </div>\n                  </div>\n                  );\n                })}\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button className=\"btn-cancel-modal\" onClick={cancelPreview}>\n                Go Back & Edit\n              </button>\n              <button className=\"btn-confirm-modal\" onClick={confirmSave} disabled={saving}>\n                {saving ? 'Saving...' : 'Confirm & Save'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Gap Fill Modal */}\n      {showGapModal && gapData && (\n        <div className=\"modal-overlay\">\n          <div className=\"preview-modal gap-modal\">\n            <div className=\"modal-header\">\n              <h2>Fill Time Gap</h2>\n            </div>\n            <div className=\"modal-body\">\n              <div className=\"gap-warning\">\n                Your edit created a gap in the timeline. Please fill in what you worked on during this time.\n              </div>\n              <div className=\"gap-times\">\n                <div className=\"time-field\">\n                  <label>Gap Start</label>\n                  <div className=\"time-input-group\">\n                    <input\n                      type=\"time\"\n                      value={gapData.startTime}\n                      onChange={(e) => setGapData({ ...gapData, startTime: e.target.value })}\n                    />\n                  </div>\n                </div>\n                <div className=\"time-field\">\n                  <label>Gap End</label>\n                  <div className=\"time-input-group\">\n                    <input\n                      type=\"time\"\n                      value={gapData.endTime}\n                      onChange={(e) => setGapData({ ...gapData, endTime: e.target.value })}\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"gap-duration\">\n                Duration: <strong>{calculateBlockHours(gapData.startTime, gapData.endTime)} hrs</strong>\n              </div>\n              <div className=\"task-field\">\n                <label>What did you work on?</label>\n                {gapTasks.map((task, index) => (\n                  <div key={index} className=\"task-input-row\">\n                    <input\n                      type=\"text\"\n                      value={task}\n                      onChange={(e) => {\n                        const newTasks = [...gapTasks];\n                        newTasks[index] = e.target.value;\n                        setGapTasks(newTasks);\n                      }}\n                      placeholder={index === 0 ? \"Enter task...\" : \"Another task...\"}\n                    />\n                    {gapTasks.length > 1 && (\n                      <button\n                        type=\"button\"\n                        className=\"btn-remove-task\"\n                        onClick={() => setGapTasks(gapTasks.filter((_, i) => i !== index))}\n                      >\n                        −\n                      </button>\n                    )}\n                  </div>\n                ))}\n                <button\n                  type=\"button\"\n                  className=\"btn-add-task\"\n                  onClick={() => setGapTasks([...gapTasks, ''])}\n                >\n                  + Add Task\n                </button>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button className=\"btn-cancel-modal\" onClick={handleCancelGap}>\n                Cancel Edit\n              </button>\n              <button\n                className=\"btn-confirm-modal\"\n                onClick={handleFillGap}\n                disabled={!gapTasks.some(t => t.trim())}\n              >\n                Fill Gap\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Password Reset Modal */}\n      {showPasswordModal && (\n        <div className=\"modal-overlay\" onClick={closePasswordModal}>\n          <div className=\"preview-modal password-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h2>Change Password</h2>\n              <button className=\"modal-close\" onClick={closePasswordModal}>&times;</button>\n            </div>\n            <div className=\"modal-body\">\n              {passwordSuccess ? (\n                <div className=\"password-success\">\n                  Password changed successfully!\n                </div>\n              ) : (\n                <>\n                  {passwordError && (\n                    <div className=\"password-error\">{passwordError}</div>\n                  )}\n                  <div className=\"password-field\">\n                    <label>Current Password</label>\n                    <input\n                      type=\"password\"\n                      value={passwordData.current}\n                      onChange={(e) => setPasswordData({ ...passwordData, current: e.target.value })}\n                      placeholder=\"Enter current password\"\n                    />\n                  </div>\n                  <div className=\"password-field\">\n                    <label>New Password</label>\n                    <input\n                      type=\"password\"\n                      value={passwordData.new}\n                      onChange={(e) => setPasswordData({ ...passwordData, new: e.target.value })}\n                      placeholder=\"Enter new password\"\n                    />\n                  </div>\n                  <div className=\"password-field\">\n                    <label>Confirm New Password</label>\n                    <input\n                      type=\"password\"\n                      value={passwordData.confirm}\n                      onChange={(e) => setPasswordData({ ...passwordData, confirm: e.target.value })}\n                      placeholder=\"Confirm new password\"\n                    />\n                  </div>\n                </>\n              )}\n            </div>\n            {!passwordSuccess && (\n              <div className=\"modal-footer\">\n                <button className=\"btn-cancel-modal\" onClick={closePasswordModal}>\n                  Cancel\n                </button>\n                <button\n                  className=\"btn-confirm-modal\"\n                  onClick={handleChangePassword}\n                  disabled={changingPassword}\n                >\n                  {changingPassword ? 'Changing...' : 'Change Password'}\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      <header className=\"header\">\n        <div className=\"header-top\">\n          <h1>Time Clock</h1>\n          <div className=\"header-right\">\n            <div className=\"test-controls\">\n              <div className=\"test-row\">\n                <select value={testBlocks} onChange={(e) => setTestBlocks(Number(e.target.value))}>\n                  {[1, 2, 3, 4, 5, 6, 7, 8].map(n => (\n                    <option key={n} value={n}>{n} blocks</option>\n                  ))}\n                </select>\n                <select value={testBreaks} onChange={(e) => setTestBreaks(Number(e.target.value))}>\n                  {[0, 1, 2, 3, 4].map(n => (\n                    <option key={n} value={n}>{n} breaks</option>\n                  ))}\n                </select>\n                <button type=\"button\" className=\"btn-test\" onClick={generateTestShift}>\n                  Generate\n                </button>\n                {(completedBlocks.length > 0 || currentBlock) && (\n                  <button type=\"button\" className=\"btn-clear\" onClick={clearAll}>\n                    Clear\n                  </button>\n                )}\n              </div>\n              <div className=\"test-row\">\n                <span className=\"now-offset-label\">Block +</span>\n                <select value={nowOffsetHours} onChange={(e) => setNowOffsetHours(Number(e.target.value))}>\n                  {[0, 1, 2, 3, 4, 5].map(n => (\n                    <option key={n} value={n}>{n}h</option>\n                  ))}\n                </select>\n                <select value={nowOffsetMins} onChange={(e) => setNowOffsetMins(Number(e.target.value))}>\n                  {[0, 15, 30, 45].map(n => (\n                    <option key={n} value={n}>{n}m</option>\n                  ))}\n                </select>\n                <button\n                  type=\"button\"\n                  className=\"btn-random-task\"\n                  onClick={() => {\n                    if (currentBlock) {\n                      const randomTask = clientTasks[Math.floor(Math.random() * clientTasks.length)];\n                      // Add to first empty slot or append\n                      const emptyIndex = currentTasks.findIndex(t => !t.trim());\n                      if (emptyIndex >= 0) {\n                        const newTasks = [...currentTasks];\n                        newTasks[emptyIndex] = randomTask;\n                        setCurrentTasks(newTasks);\n                      } else {\n                        setCurrentTasks([...currentTasks, randomTask]);\n                      }\n                    }\n                  }}\n                  disabled={!currentBlock}\n                >\n                  Random Task\n                </button>\n              </div>\n            </div>\n            <div className=\"user-info\">\n              <div className=\"user-dropdown-container\" ref={dropdownRef}>\n                <button\n                  className=\"user-name-btn\"\n                  onClick={() => setShowUserDropdown(!showUserDropdown)}\n                >\n                  {user.name}\n                  <span className=\"dropdown-arrow\">{showUserDropdown ? '▲' : '▼'}</span>\n                </button>\n                {showUserDropdown && (\n                  <div className=\"user-dropdown\">\n                    <button\n                      className=\"dropdown-item\"\n                      onClick={() => {\n                        setShowPasswordModal(true);\n                        setShowUserDropdown(false);\n                      }}\n                    >\n                      Reset Password\n                    </button>\n                    <button className=\"dropdown-item logout-item\" onClick={logout}>\n                      Logout\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Tab Navigation */}\n      <div className=\"tab-nav\">\n        <button\n          className={`tab-btn ${activeTab === 'today' ? 'active' : ''}`}\n          onClick={() => setActiveTab('today')}\n        >\n          Today's Shift\n        </button>\n        <button\n          className={`tab-btn ${activeTab === 'history' ? 'active' : ''}`}\n          onClick={() => setActiveTab('history')}\n        >\n          Shift History\n        </button>\n        {isAdmin && (\n          <button\n            className={`tab-btn admin-tab ${activeTab === 'admin' ? 'active' : ''}`}\n            onClick={() => setActiveTab('admin')}\n          >\n            Admin View\n          </button>\n        )}\n      </div>\n\n      {activeTab === 'today' ? (\n        <main className=\"main-grid\">\n          {/* Column 1 - Active Input Block(s) */}\n          <section className=\"input-column\">\n            <div className=\"section-header\">\n              <h2>Current Block</h2>\n              <div className=\"date-picker\">\n                <input\n                  type=\"date\"\n                  value={currentDate}\n                  onChange={(e) => setCurrentDate(e.target.value)}\n                />\n              </div>\n            </div>\n\n            <div className=\"input-blocks-area\">\n              {/* Editing Block (shows when going back in time) */}\n              {editingBlock && (\n                <div className={`time-block editing-block ${editingBlock.isBreak ? 'break-block' : ''} ${swipingBlockId === editingBlock.id ? 'swiping-out' : ''}`}>\n                  <div className=\"block-header\">\n                    <span className=\"block-number\">Editing Block</span>\n                    <div className=\"edit-controls\">\n                      <button type=\"button\" className=\"btn-cancel-edit\" onClick={handleCancelEdit}>\n                        Cancel\n                      </button>\n                      <button type=\"button\" className=\"btn-save-edit\" onClick={handleSaveEdit}>\n                        Save\n                      </button>\n                    </div>\n                  </div>\n                  <div className=\"block-times\">\n                    <div className=\"time-field\">\n                      <label>Start</label>\n                      <div className=\"time-input-group\">\n                        <input\n                          type=\"time\"\n                          value={editingBlock.startTime}\n                          onChange={(e) => updateEditingBlock('startTime', e.target.value)}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"time-field\">\n                      <label>End</label>\n                      <div className=\"time-input-group\">\n                        <input\n                          type=\"time\"\n                          value={editingBlock.endTime}\n                          onChange={(e) => updateEditingBlock('endTime', e.target.value)}\n                        />\n                        <button\n                          type=\"button\"\n                          className=\"btn-now\"\n                          onClick={() => updateEditingBlock('endTime', getEndTimeWithOffset(editingBlock.startTime))}\n                        >\n                          Now{(nowOffsetHours > 0 || nowOffsetMins > 0) ? '+' : ''}\n                        </button>\n                      </div>\n                      <div className=\"time-increment-btns\">\n                        <button\n                          type=\"button\"\n                          className=\"btn-increment\"\n                          onClick={() => incrementEndTime(editingBlock, updateEditingBlock, 15)}\n                        >\n                          +15m\n                        </button>\n                        <button\n                          type=\"button\"\n                          className=\"btn-increment\"\n                          onClick={() => incrementEndTime(editingBlock, updateEditingBlock, 60)}\n                        >\n                          +1hr\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                  {/* Hide task input for breaks */}\n                  {!editingBlock.isBreak && (\n                    <div className=\"task-field\">\n                      <label>Tasks</label>\n                      {editingTasks.map((task, index) => (\n                        <div key={index} className=\"task-input-row\">\n                          <input\n                            type=\"text\"\n                            value={task}\n                            onChange={(e) => {\n                              const newTasks = [...editingTasks];\n                              newTasks[index] = e.target.value;\n                              setEditingTasks(newTasks);\n                            }}\n                            placeholder={index === 0 ? \"What did you work on?\" : \"Another task...\"}\n                          />\n                          {editingTasks.length > 1 && (\n                            <button\n                              type=\"button\"\n                              className=\"btn-remove-task\"\n                              onClick={() => {\n                                const newTasks = editingTasks.filter((_, i) => i !== index);\n                                setEditingTasks(newTasks);\n                              }}\n                            >\n                              −\n                            </button>\n                          )}\n                        </div>\n                      ))}\n                      <button\n                        type=\"button\"\n                        className=\"btn-add-task\"\n                        onClick={() => setEditingTasks([...editingTasks, ''])}\n                      >\n                        + Add Task\n                      </button>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Current Block (main input) */}\n              {currentBlock ? (\n                <div className={`time-block current-block ${currentBlock.isBreak ? 'break-block' : ''} ${swipingBlockId === currentBlock.id ? 'swiping-out' : ''}`}>\n                  <div className=\"block-header\">\n                    <span className=\"block-number\">Block {blockCount}</span>\n                    {calculateBlockHours(currentBlock.startTime, currentBlock.endTime) && (\n                      <span className=\"block-hours\">\n                        {calculateBlockHours(currentBlock.startTime, currentBlock.endTime)} hrs\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"block-times\">\n                    <div className=\"time-field\">\n                      <label>Start{completedBlocks.length > 0 }</label>\n                      <div className=\"time-input-group\">\n                        <input\n                          type=\"time\"\n                          value={currentBlock.startTime}\n                          onChange={(e) => !completedBlocks.length && updateCurrentBlock('startTime', e.target.value)}\n                          readOnly={completedBlocks.length > 0}\n                          className={completedBlocks.length > 0 ? 'locked-input' : ''}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"time-field\">\n                      <label>End</label>\n                      <div className=\"time-input-group\">\n                        <input\n                          type=\"time\"\n                          value={currentBlock.endTime}\n                          onChange={(e) => updateCurrentBlock('endTime', e.target.value)}\n                        />\n                        <button\n                          type=\"button\"\n                          className=\"btn-now\"\n                          onClick={() => updateCurrentBlock('endTime', getEndTimeWithOffset(currentBlock.startTime))}\n                        >\n                          Now{(nowOffsetHours > 0 || nowOffsetMins > 0) ? '+' : ''}\n                        </button>\n                      </div>\n                      <div className=\"time-increment-btns\">\n                        <button\n                          type=\"button\"\n                          className=\"btn-increment\"\n                          onClick={() => incrementEndTime(currentBlock, updateCurrentBlock, 15)}\n                        >\n                          +15m\n                        </button>\n                        <button\n                          type=\"button\"\n                          className=\"btn-increment\"\n                          onClick={() => incrementEndTime(currentBlock, updateCurrentBlock, 60)}\n                        >\n                          +1hr\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"task-field\">\n                    <label>Tasks</label>\n                    {currentTasks.map((task, index) => (\n                      <div key={index} className=\"task-input-row\">\n                        <input\n                          type=\"text\"\n                          value={task}\n                          onChange={(e) => {\n                            const newTasks = [...currentTasks];\n                            newTasks[index] = e.target.value;\n                            setCurrentTasks(newTasks);\n                          }}\n                          placeholder={index === 0 ? \"What did you work on?\" : \"Another task...\"}\n                        />\n                        {currentTasks.length > 1 && (\n                          <button\n                            type=\"button\"\n                            className=\"btn-remove-task\"\n                            onClick={() => {\n                              const newTasks = currentTasks.filter((_, i) => i !== index);\n                              setCurrentTasks(newTasks);\n                            }}\n                          >\n                            −\n                          </button>\n                        )}\n                      </div>\n                    ))}\n                    <button\n                      type=\"button\"\n                      className=\"btn-add-task\"\n                      onClick={() => setCurrentTasks([...currentTasks, ''])}\n                    >\n                      + Add Task\n                    </button>\n                  </div>\n                  <div className=\"block-actions\">\n                    {!currentBlock.isBreak && (\n                      <button type=\"button\" className=\"btn-break\" onClick={handleBreak}>\n                        + Break\n                      </button>\n                    )}\n                    <button\n                      type=\"button\"\n                      className=\"btn-advance\"\n                      onClick={handleAdvanceBlock}\n                      disabled={!currentBlock.endTime || !currentTasks.some(t => t.trim())}\n                    >\n                      Next Block →\n                    </button>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"empty-state\">\n                  <p>Ready to start tracking</p>\n                  <button type=\"button\" className=\"btn-clock-in\" onClick={handleClockIn}>\n                    Clock In\n                  </button>\n                </div>\n              )}\n            </div>\n\n            <div className=\"shift-summary\">\n              <div className=\"total-hours\">\n                <span>Total Hours:</span>\n                <strong>{calculateTotalHours()}</strong>\n              </div>\n              <button\n                type=\"button\"\n                className=\"btn-save\"\n                onClick={previewShift}\n                disabled={(completedBlocks.length === 0 && !currentBlock) || saving}\n              >\n                {saving ? 'Saving...' : 'Save Shift'}\n              </button>\n            </div>\n          </section>\n\n          {/* Column 2 - Completed Blocks */}\n          <section className=\"completed-column\">\n            <h2>Completed Blocks</h2>\n            {completedBlocks.length === 0 ? (\n              <div className=\"empty-completed\">\n                <p>Blocks will appear here as you complete them</p>\n              </div>\n            ) : (\n              <div className=\"completed-list\">\n                {completedBlocks.map((block, index) => {\n                  // Count only work blocks for numbering\n                  const workBlockNumber = completedBlocks\n                    .slice(0, index + 1)\n                    .filter(b => !b.isBreak).length;\n                  return (\n                  <div\n                    key={block.id}\n                    className={`completed-block ${block.isBreak ? 'break-block' : ''}`}\n                  >\n                    <div className=\"completed-block-header\">\n                      <span className=\"completed-number\">\n                        {block.isBreak ? 'Break' : `Block #${workBlockNumber}`}\n                      </span>\n                      <span className=\"completed-hours\">\n                        {calculateBlockHours(block.startTime, block.endTime)} hrs\n                      </span>\n                    </div>\n                    <div className=\"completed-task\">\n                      {block.tasks.split(' • ').map((task, i) => (\n                        <div key={i} className=\"task-line\">{task}</div>\n                      ))}\n                    </div>\n                    <div className=\"completed-meta\">\n                      <span>{formatTime(block.startTime)} - {formatTime(block.endTime)}</span>\n                      <div className=\"completed-actions\">\n                        <button\n                          type=\"button\"\n                          className={`btn-edit ${block.isBreak ? 'btn-extend-break' : ''}`}\n                          onClick={() => handleEditBlock(block)}\n                          disabled={editingBlock !== null}\n                        >\n                          {block.isBreak ? 'Extend Break' : 'Edit'}\n                        </button>\n                        <button\n                          type=\"button\"\n                          className=\"btn-delete\"\n                          onClick={() => removeCompletedBlock(block.id)}\n                        >\n                          ×\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                  );\n                })}\n              </div>\n            )}\n          </section>\n        </main>\n      ) : activeTab === 'history' ? (\n        /* Shift History Tab */\n        <main className=\"history-tab\">\n          <section className=\"shift-history-full\">\n            <h2>Shift History</h2>\n            {loading ? (\n              <p className=\"loading-text\">Loading shifts...</p>\n            ) : shifts.length === 0 ? (\n              <p className=\"empty-text\">No shifts recorded yet</p>\n            ) : (\n              <div className=\"history-list\">\n                {shifts.map((shift) => {\n                  const shiftId = shift._id || shift.id;\n                  const isExpanded = expandedShifts.has(shiftId);\n                  return (\n                    <div key={shiftId} className={`history-item ${isExpanded ? 'expanded' : ''}`}>\n                      <div className=\"history-header\">\n                        <div\n                          className=\"history-header-left\"\n                          onClick={() => toggleShiftExpanded(shiftId)}\n                        >\n                          <span className=\"expand-icon\">{isExpanded ? '▼' : '▶'}</span>\n                          <span className=\"history-date\">{formatDate(shift.date)}</span>\n                          <span className=\"history-times-inline\">\n                            {formatTime(shift.clockInTime)} - {formatTime(shift.clockOutTime)}\n                          </span>\n                        </div>\n                        <div className=\"history-header-right\">\n                          <span className=\"history-hours\">{shift.totalHours} hrs</span>\n                          <button\n                            type=\"button\"\n                            className=\"btn-delete-shift\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              if (window.confirm('Delete this shift?')) {\n                                shiftsAPI.delete(shiftId).then(() => {\n                                  setShifts(shifts.filter(s => (s._id || s.id) !== shiftId));\n                                }).catch(err => alert('Failed to delete: ' + err.message));\n                              }\n                            }}\n                          >\n                            ×\n                          </button>\n                        </div>\n                      </div>\n                      {isExpanded && shift.timeBlocks && shift.timeBlocks.length > 0 && (\n                        <div className=\"history-tasks\">\n                          {shift.timeBlocks.map((block, i) => (\n                            <div key={i} className={`history-task ${block.isBreak ? 'break-task' : ''}`}>\n                              <span className=\"task-time\">\n                                {formatTime(block.startTime)} - {formatTime(block.endTime)}\n                              </span>\n                              <span className=\"task-text\">\n                                {block.tasks.split(' • ').map((task, j) => (\n                                  <span key={j} className=\"task-line-inline\">{task}</span>\n                                ))}\n                              </span>\n                              {calculateBlockHours(block.startTime, block.endTime) && (\n                                <span className=\"task-hours\">{calculateBlockHours(block.startTime, block.endTime)}h</span>\n                              )}\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </section>\n        </main>\n      ) : (\n        /* Admin View Tab */\n        <main className=\"history-tab admin-view\">\n          <section className=\"shift-history-full\">\n            <h2>All Users' Shifts</h2>\n            {adminLoading ? (\n              <p className=\"loading-text\">Loading all shifts...</p>\n            ) : adminShifts.length === 0 ? (\n              <p className=\"empty-text\">No shifts from any users yet</p>\n            ) : (\n              <div className=\"history-list\">\n                {adminShifts.map((shift) => {\n                  const shiftId = shift._id || shift.id;\n                  const isExpanded = expandedShifts.has(shiftId);\n                  return (\n                    <div key={shiftId} className={`history-item ${isExpanded ? 'expanded' : ''}`}>\n                      <div className=\"history-header\">\n                        <div\n                          className=\"history-header-left\"\n                          onClick={() => toggleShiftExpanded(shiftId)}\n                        >\n                          <span className=\"expand-icon\">{isExpanded ? '▼' : '▶'}</span>\n                          <span className=\"admin-user-name\">{shift.userName || 'Unknown'}</span>\n                          <span className=\"history-date\">{formatDate(shift.date)}</span>\n                          <span className=\"history-times-inline\">\n                            {formatTime(shift.clockInTime)} - {formatTime(shift.clockOutTime)}\n                          </span>\n                        </div>\n                        <div className=\"history-header-right\">\n                          <span className=\"history-hours\">{shift.totalHours} hrs</span>\n                        </div>\n                      </div>\n                      {isExpanded && shift.timeBlocks && shift.timeBlocks.length > 0 && (\n                        <div className=\"history-tasks\">\n                          {shift.timeBlocks.map((block, i) => (\n                            <div key={i} className={`history-task ${block.isBreak ? 'break-task' : ''}`}>\n                              <span className=\"task-time\">\n                                {formatTime(block.startTime)} - {formatTime(block.endTime)}\n                              </span>\n                              <span className=\"task-text\">\n                                {block.tasks.split(' • ').map((task, j) => (\n                                  <span key={j} className=\"task-line-inline\">{task}</span>\n                                ))}\n                              </span>\n                              {calculateBlockHours(block.startTime, block.endTime) && (\n                                <span className=\"task-hours\">{calculateBlockHours(block.startTime, block.endTime)}h</span>\n                              )}\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </section>\n        </main>\n      )}\n    </div>\n  );\n}\n\nfunction AppContent() {\n  const { isAuthenticated, loading } = useAuth();\n  const [showRegister, setShowRegister] = useState(() => {\n    return window.location.pathname === '/register';\n  });\n\n  const handleSwitchToLogin = () => {\n    setShowRegister(false);\n    window.history.pushState({}, '', '/');\n  };\n\n  const handleSwitchToRegister = () => {\n    setShowRegister(true);\n    window.history.pushState({}, '', '/register');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-screen\">\n        <h1>Time Clock</h1>\n        <p>Loading...</p>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return showRegister ? (\n      <Register onSwitchToLogin={handleSwitchToLogin} />\n    ) : (\n      <Login onSwitchToRegister={handleSwitchToRegister} />\n    );\n  }\n\n  return <TimeClock />;\n}\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <AppContent />\n    </AuthProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}